var wt={exports:{}},z={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ga=Object.getOwnPropertySymbols,jp=Object.prototype.hasOwnProperty,Vp=Object.prototype.propertyIsEnumerable;function Bp(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Hp(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ef=Hp()?Object.assign:function(t,e){for(var n,r=Bp(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)jp.call(n,o)&&(r[o]=n[o]);if(ga){i=ga(n);for(var l=0;l<i.length;l++)Vp.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Ef,Bn=60103,Cf=60106;z.Fragment=60107;z.StrictMode=60108;z.Profiler=60114;var wf=60109,Sf=60110,kf=60112;z.Suspense=60113;var Tf=60115,If=60116;if(typeof Symbol=="function"&&Symbol.for){var Ue=Symbol.for;Bn=Ue("react.element"),Cf=Ue("react.portal"),z.Fragment=Ue("react.fragment"),z.StrictMode=Ue("react.strict_mode"),z.Profiler=Ue("react.profiler"),wf=Ue("react.provider"),Sf=Ue("react.context"),kf=Ue("react.forward_ref"),z.Suspense=Ue("react.suspense"),Tf=Ue("react.memo"),If=Ue("react.lazy")}var ya=typeof Symbol=="function"&&Symbol.iterator;function $p(t){return t===null||typeof t!="object"?null:(t=ya&&t[ya]||t["@@iterator"],typeof t=="function"?t:null)}function ii(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xf={};function Hn(t,e,n){this.props=t,this.context=e,this.refs=xf,this.updater=n||Nf}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(ii(85));this.updater.enqueueSetState(this,t,e,"setState")};Hn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rf(){}Rf.prototype=Hn.prototype;function Vl(t,e,n){this.props=t,this.context=e,this.refs=xf,this.updater=n||Nf}var Bl=Vl.prototype=new Rf;Bl.constructor=Vl;jl(Bl,Hn.prototype);Bl.isPureReactComponent=!0;var Hl={current:null},Pf=Object.prototype.hasOwnProperty,Of={key:!0,ref:!0,__self:!0,__source:!0};function Af(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Pf.call(e,r)&&!Of.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Bn,type:t,key:s,ref:o,props:i,_owner:Hl.current}}function bp(t,e){return{$$typeof:Bn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $l(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bn}function Gp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var va=/\/+/g;function io(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gp(""+t.key):e.toString(36)}function Mi(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bn:case Cf:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+io(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(va,"$&/")+"/"),Mi(i,e,n,"",function(a){return a})):i!=null&&($l(i)&&(i=bp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(va,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+io(s,l);o+=Mi(s,e,n,u,i)}else if(u=$p(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+io(s,l++),o+=Mi(s,e,n,u,i);else if(s==="object")throw e=""+t,Error(ii(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function yi(t,e,n){if(t==null)return t;var r=[],i=0;return Mi(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Qp(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Mf={current:null};function st(){var t=Mf.current;if(t===null)throw Error(ii(321));return t}var Yp={ReactCurrentDispatcher:Mf,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Hl,IsSomeRendererActing:{current:!1},assign:jl};z.Children={map:yi,forEach:function(t,e,n){yi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yi(t,function(){e++}),e},toArray:function(t){return yi(t,function(e){return e})||[]},only:function(t){if(!$l(t))throw Error(ii(143));return t}};z.Component=Hn;z.PureComponent=Vl;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yp;z.cloneElement=function(t,e,n){if(t==null)throw Error(ii(267,t));var r=jl({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Pf.call(e,u)&&!Of.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:Bn,type:t.type,key:i,ref:s,props:r,_owner:o}};z.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Sf,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:wf,_context:t},t.Consumer=t};z.createElement=Af;z.createFactory=function(t){var e=Af.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:kf,render:t}};z.isValidElement=$l;z.lazy=function(t){return{$$typeof:If,_payload:{_status:-1,_result:t},_init:Qp}};z.memo=function(t,e){return{$$typeof:Tf,type:t,compare:e===void 0?null:e}};z.useCallback=function(t,e){return st().useCallback(t,e)};z.useContext=function(t,e){return st().useContext(t,e)};z.useDebugValue=function(){};z.useEffect=function(t,e){return st().useEffect(t,e)};z.useImperativeHandle=function(t,e,n){return st().useImperativeHandle(t,e,n)};z.useLayoutEffect=function(t,e){return st().useLayoutEffect(t,e)};z.useMemo=function(t,e){return st().useMemo(t,e)};z.useReducer=function(t,e,n){return st().useReducer(t,e,n)};z.useRef=function(t){return st().useRef(t)};z.useState=function(t){return st().useState(t)};z.version="17.0.2";wt.exports=z;var cE=wt.exports,Df={exports:{}},ze={},Lf={exports:{}},Ff={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var u=null,a=null,d=function(){if(u!==null)try{var k=t.unstable_now();u(!0,k),u=null}catch(A){throw setTimeout(d,0),A}};e=function(k){u!==null?setTimeout(e,0,k):(u=k,setTimeout(d,0))},n=function(k,A){a=setTimeout(k,A)},r=function(){clearTimeout(a)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,c=window.clearTimeout;if(typeof console!="undefined"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,w=null,m=-1,h=5,p=0;t.unstable_shouldYield=function(){return t.unstable_now()>=p},i=function(){},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):h=0<k?Math.floor(1e3/k):5};var _=new MessageChannel,y=_.port2;_.port1.onmessage=function(){if(w!==null){var k=t.unstable_now();p=k+h;try{w(!0,k)?y.postMessage(null):(v=!1,w=null)}catch(A){throw y.postMessage(null),A}}else v=!1},e=function(k){w=k,v||(v=!0,y.postMessage(null))},n=function(k,A){m=f(function(){k(t.unstable_now())},A)},r=function(){c(m),m=-1}}function x(k,A){var D=k.length;k.push(A);e:for(;;){var K=D-1>>>1,le=k[K];if(le!==void 0&&0<O(le,A))k[K]=A,k[D]=le,D=K;else break e}}function S(k){return k=k[0],k===void 0?null:k}function N(k){var A=k[0];if(A!==void 0){var D=k.pop();if(D!==A){k[0]=D;e:for(var K=0,le=k.length;K<le;){var Mt=2*(K+1)-1,Dt=k[Mt],Jn=Mt+1,ln=k[Jn];if(Dt!==void 0&&0>O(Dt,D))ln!==void 0&&0>O(ln,Dt)?(k[K]=ln,k[Jn]=D,K=Jn):(k[K]=Dt,k[Mt]=D,K=Mt);else if(ln!==void 0&&0>O(ln,D))k[K]=ln,k[Jn]=D,K=Jn;else break e}}return A}return null}function O(k,A){var D=k.sortIndex-A.sortIndex;return D!==0?D:k.id-A.id}var I=[],oe=[],eo=1,Oe=null,fe=3,gi=!1,At=!1,Zn=!1;function to(k){for(var A=S(oe);A!==null;){if(A.callback===null)N(oe);else if(A.startTime<=k)N(oe),A.sortIndex=A.expirationTime,x(I,A);else break;A=S(oe)}}function no(k){if(Zn=!1,to(k),!At)if(S(I)!==null)At=!0,e(ro);else{var A=S(oe);A!==null&&n(no,A.startTime-k)}}function ro(k,A){At=!1,Zn&&(Zn=!1,r()),gi=!0;var D=fe;try{for(to(A),Oe=S(I);Oe!==null&&(!(Oe.expirationTime>A)||k&&!t.unstable_shouldYield());){var K=Oe.callback;if(typeof K=="function"){Oe.callback=null,fe=Oe.priorityLevel;var le=K(Oe.expirationTime<=A);A=t.unstable_now(),typeof le=="function"?Oe.callback=le:Oe===S(I)&&N(I),to(A)}else N(I);Oe=S(I)}if(Oe!==null)var Mt=!0;else{var Dt=S(oe);Dt!==null&&n(no,Dt.startTime-A),Mt=!1}return Mt}finally{Oe=null,fe=D,gi=!1}}var Wp=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){At||gi||(At=!0,e(ro))},t.unstable_getCurrentPriorityLevel=function(){return fe},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(k){switch(fe){case 1:case 2:case 3:var A=3;break;default:A=fe}var D=fe;fe=A;try{return k()}finally{fe=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Wp,t.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=fe;fe=k;try{return A()}finally{fe=D}},t.unstable_scheduleCallback=function(k,A,D){var K=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,k){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=D+le,k={id:eo++,callback:A,priorityLevel:k,startTime:D,expirationTime:le,sortIndex:-1},D>K?(k.sortIndex=D,x(oe,k),S(I)===null&&k===S(oe)&&(Zn?r():Zn=!0,n(no,D-K))):(k.sortIndex=le,x(I,k),At||gi||(At=!0,e(ro))),k},t.unstable_wrapCallback=function(k){var A=fe;return function(){var D=fe;fe=A;try{return k.apply(this,arguments)}finally{fe=D}}}})(Ff);Lf.exports=Ff;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=wt.exports,G=Ef,se=Lf.exports;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Rs)throw Error(E(227));var zf=new Set,zr={};function en(t,e){Dn(t,e),Dn(t+"Capture",e)}function Dn(t,e){for(zr[t]=e,t=0;t<e.length;t++)zf.add(e[t])}var it=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),qp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ea=Object.prototype.hasOwnProperty,Ca={},wa={};function Kp(t){return Ea.call(wa,t)?!0:Ea.call(Ca,t)?!1:qp.test(t)?wa[t]=!0:(Ca[t]=!0,!1)}function Xp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zp(t,e,n,r){if(e===null||typeof e=="undefined"||Xp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ce[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ce[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ce[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ce[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ce[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ce[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ce[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ce[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ce[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var bl=/[\-:]([a-z])/g;function Gl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bl,Gl);ce[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bl,Gl);ce[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bl,Gl);ce[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ce[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});ce.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ce[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ql(t,e,n,r){var i=ce.hasOwnProperty(e)?ce[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(Zp(e,n,i,r)&&(n=null),r||i===null?Kp(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tn=Rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_r=60103,Ut=60106,at=60107,Yl=60108,Cr=60114,ql=60109,Kl=60110,Ps=60112,wr=60113,$i=60120,Os=60115,Xl=60116,Zl=60121,Jl=60128,Uf=60129,eu=60130,Fo=60131;if(typeof Symbol=="function"&&Symbol.for){var ee=Symbol.for;_r=ee("react.element"),Ut=ee("react.portal"),at=ee("react.fragment"),Yl=ee("react.strict_mode"),Cr=ee("react.profiler"),ql=ee("react.provider"),Kl=ee("react.context"),Ps=ee("react.forward_ref"),wr=ee("react.suspense"),$i=ee("react.suspense_list"),Os=ee("react.memo"),Xl=ee("react.lazy"),Zl=ee("react.block"),ee("react.scope"),Jl=ee("react.opaque.id"),Uf=ee("react.debug_trace_mode"),eu=ee("react.offscreen"),Fo=ee("react.legacy_hidden")}var Sa=typeof Symbol=="function"&&Symbol.iterator;function er(t){return t===null||typeof t!="object"?null:(t=Sa&&t[Sa]||t["@@iterator"],typeof t=="function"?t:null)}var so;function gr(t){if(so===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);so=e&&e[1]||""}return`
`+so+t}var oo=!1;function vi(t,e){if(!t||oo)return"";oo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=l);break}}}finally{oo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gr(t):""}function Jp(t){switch(t.tag){case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 2:case 15:return t=vi(t.type,!1),t;case 11:return t=vi(t.type.render,!1),t;case 22:return t=vi(t.type._render,!1),t;case 1:return t=vi(t.type,!0),t;default:return""}}function En(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case at:return"Fragment";case Ut:return"Portal";case Cr:return"Profiler";case Yl:return"StrictMode";case wr:return"Suspense";case $i:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kl:return(t.displayName||"Context")+".Consumer";case ql:return(t._context.displayName||"Context")+".Provider";case Ps:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Os:return En(t.type);case Zl:return En(t._render);case Xl:e=t._payload,t=t._init;try{return En(t(e))}catch{}}return null}function St(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Wf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function em(t){var e=Wf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ei(t){t._valueTracker||(t._valueTracker=em(t))}function jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Wf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function zo(t,e){var n=e.checked;return G({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function ka(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=St(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vf(t,e){e=e.checked,e!=null&&Ql(t,"checked",e,!1)}function Uo(t,e){Vf(t,e);var n=St(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wo(t,e.type,St(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ta(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wo(t,e,n){(e!=="number"||bi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function tm(t){var e="";return Rs.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function jo(t,e){return t=G({children:void 0},e),(e=tm(e.children))&&(t.children=e),t}function Cn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+St(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return G({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ia(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:St(n)}}function Bf(t,e){var n=St(e.value),r=St(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Na(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Bo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Hf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ci,$f=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Bo.svg||"innerHTML"in t)t.innerHTML=e;else{for(Ci=Ci||document.createElement("div"),Ci.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ci.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ur(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nm=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(t){nm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sr[e]=Sr[t]})});function bf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sr.hasOwnProperty(t)&&Sr[t]?(""+e).trim():e+"px"}function Gf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rm=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $o(t,e){if(e){if(rm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function bo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function tu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Go=null,wn=null,Sn=null;function xa(t){if(t=oi(t)){if(typeof Go!="function")throw Error(E(280));var e=t.stateNode;e&&(e=zs(e),Go(t.stateNode,t.type,e))}}function Qf(t){wn?Sn?Sn.push(t):Sn=[t]:wn=t}function Yf(){if(wn){var t=wn,e=Sn;if(Sn=wn=null,xa(t),e)for(t=0;t<e.length;t++)xa(e[t])}}function nu(t,e){return t(e)}function qf(t,e,n,r,i){return t(e,n,r,i)}function ru(){}var Kf=nu,Wt=!1,lo=!1;function iu(){(wn!==null||Sn!==null)&&(ru(),Yf())}function im(t,e,n){if(lo)return t(e,n);lo=!0;try{return Kf(t,e,n)}finally{lo=!1,iu()}}function Wr(t,e){var n=t.stateNode;if(n===null)return null;var r=zs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Qo=!1;if(it)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Qo=!1}function sm(t,e,n,r,i,s,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(d){this.onError(d)}}var kr=!1,Gi=null,Qi=!1,Yo=null,om={onError:function(t){kr=!0,Gi=t}};function lm(t,e,n,r,i,s,o,l,u){kr=!1,Gi=null,sm.apply(om,arguments)}function um(t,e,n,r,i,s,o,l,u){if(lm.apply(this,arguments),kr){if(kr){var a=Gi;kr=!1,Gi=null}else throw Error(E(198));Qi||(Qi=!0,Yo=a)}}function nn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ra(t){if(nn(t)!==t)throw Error(E(188))}function am(t){var e=t.alternate;if(!e){if(e=nn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ra(i),t;if(s===r)return Ra(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Zf(t){if(t=am(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Pa(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Jf,su,ed,td,qo=!1,be=[],ht=null,pt=null,mt=null,jr=new Map,Vr=new Map,nr=[],Oa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ko(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function Aa(t,e){switch(t){case"focusin":case"focusout":ht=null;break;case"dragenter":case"dragleave":pt=null;break;case"mouseover":case"mouseout":mt=null;break;case"pointerover":case"pointerout":jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(e.pointerId)}}function rr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=Ko(e,n,r,i,s),e!==null&&(e=oi(e),e!==null&&su(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cm(t,e,n,r,i){switch(e){case"focusin":return ht=rr(ht,t,e,n,r,i),!0;case"dragenter":return pt=rr(pt,t,e,n,r,i),!0;case"mouseover":return mt=rr(mt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return jr.set(s,rr(jr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vr.set(s,rr(Vr.get(s)||null,t,e,n,r,i)),!0}return!1}function fm(t){var e=jt(t.target);if(e!==null){var n=nn(e);if(n!==null){if(e=n.tag,e===13){if(e=Xf(n),e!==null){t.blockedOn=e,td(t.lanePriority,function(){se.unstable_runWithPriority(t.priority,function(){ed(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Di(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=au(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=oi(n),e!==null&&su(e),t.blockedOn=n,!1;e.shift()}return!0}function Ma(t,e,n){Di(t)&&n.delete(e)}function dm(){for(qo=!1;0<be.length;){var t=be[0];if(t.blockedOn!==null){t=oi(t.blockedOn),t!==null&&Jf(t);break}for(var e=t.targetContainers;0<e.length;){var n=au(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&be.shift()}ht!==null&&Di(ht)&&(ht=null),pt!==null&&Di(pt)&&(pt=null),mt!==null&&Di(mt)&&(mt=null),jr.forEach(Ma),Vr.forEach(Ma)}function ir(t,e){t.blockedOn===e&&(t.blockedOn=null,qo||(qo=!0,se.unstable_scheduleCallback(se.unstable_NormalPriority,dm)))}function nd(t){function e(i){return ir(i,t)}if(0<be.length){ir(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ht!==null&&ir(ht,t),pt!==null&&ir(pt,t),mt!==null&&ir(mt,t),jr.forEach(e),Vr.forEach(e),n=0;n<nr.length;n++)r=nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)fm(n),n.blockedOn===null&&nr.shift()}function wi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dn={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},uo={},rd={};it&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function As(t){if(uo[t])return uo[t];if(!dn[t])return t;var e=dn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rd)return uo[t]=e[n];return t}var id=As("animationend"),sd=As("animationiteration"),od=As("animationstart"),ld=As("transitionend"),ud=new Map,ou=new Map,hm=["abort","abort",id,"animationEnd",sd,"animationIteration",od,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ld,"transitionEnd","waiting","waiting"];function lu(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),ou.set(r,e),ud.set(r,i),en(i,[r])}}var pm=se.unstable_now;pm();var j=8;function cn(t){if((1&t)!==0)return j=15,1;if((2&t)!==0)return j=14,2;if((4&t)!==0)return j=13,4;var e=24&t;return e!==0?(j=12,e):(t&32)!==0?(j=11,32):(e=192&t,e!==0?(j=10,e):(t&256)!==0?(j=9,256):(e=3584&t,e!==0?(j=8,e):(t&4096)!==0?(j=7,4096):(e=4186112&t,e!==0?(j=6,e):(e=62914560&t,e!==0?(j=5,e):t&67108864?(j=4,67108864):(t&134217728)!==0?(j=3,134217728):(e=805306368&t,e!==0?(j=2,e):(1073741824&t)!==0?(j=1,1073741824):(j=8,t))))))}function mm(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function _m(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(E(358,t))}}function Br(t,e){var n=t.pendingLanes;if(n===0)return j=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,l=t.pingedLanes;if(s!==0)r=s,i=j=15;else if(s=n&134217727,s!==0){var u=s&~o;u!==0?(r=cn(u),i=j):(l&=s,l!==0&&(r=cn(l),i=j))}else s=n&~o,s!==0?(r=cn(s),i=j):l!==0&&(r=cn(l),i=j);if(r===0)return 0;if(r=31-kt(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(cn(e),i<=j)return e;j=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),i=1<<n,r|=t[n],e&=~i;return r}function ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yi(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=fn(24&~e),t===0?Yi(10,e):t;case 10:return t=fn(192&~e),t===0?Yi(8,e):t;case 8:return t=fn(3584&~e),t===0&&(t=fn(4186112&~e),t===0&&(t=512)),t;case 2:return e=fn(805306368&~e),e===0&&(e=268435456),e}throw Error(E(358,t))}function fn(t){return t&-t}function ao(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ms(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-kt(e),t[e]=n}var kt=Math.clz32?Math.clz32:vm,gm=Math.log,ym=Math.LN2;function vm(t){return t===0?32:31-(gm(t)/ym|0)|0}var Em=se.unstable_UserBlockingPriority,Cm=se.unstable_runWithPriority,Li=!0;function wm(t,e,n,r){Wt||ru();var i=uu,s=Wt;Wt=!0;try{qf(i,t,e,n,r)}finally{(Wt=s)||iu()}}function Sm(t,e,n,r){Cm(Em,uu.bind(null,t,e,n,r))}function uu(t,e,n,r){if(Li){var i;if((i=(e&4)===0)&&0<be.length&&-1<Oa.indexOf(t))t=Ko(null,t,e,n,r),be.push(t);else{var s=au(t,e,n,r);if(s===null)i&&Aa(t,r);else{if(i){if(-1<Oa.indexOf(t)){t=Ko(s,t,e,n,r),be.push(t);return}if(cm(s,t,e,n,r))return;Aa(t,r)}wd(t,e,r,null,n)}}}}function au(t,e,n,r){var i=tu(r);if(i=jt(i),i!==null){var s=nn(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Xf(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return wd(t,e,r,i,n),null}var ct=null,cu=null,Fi=null;function cd(){if(Fi)return Fi;var t,e=cu,n=e.length,r,i="value"in ct?ct.value:ct.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fi=i.slice(t,1<r?1-r:void 0)}function zi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function Da(){return!1}function Pe(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Si:Da,this.isPropagationStopped=Da,this}return G(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),e}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=Pe($n),si=G({},$n,{view:0,detail:0}),km=Pe(si),co,fo,sr,Ds=G({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(co=t.screenX-sr.screenX,fo=t.screenY-sr.screenY):fo=co=0,sr=t),co)},movementY:function(t){return"movementY"in t?t.movementY:fo}}),La=Pe(Ds),Tm=G({},Ds,{dataTransfer:0}),Im=Pe(Tm),Nm=G({},si,{relatedTarget:0}),ho=Pe(Nm),xm=G({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=Pe(xm),Pm=G({},$n,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Om=Pe(Pm),Am=G({},$n,{data:0}),Fa=Pe(Am),Mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lm[t])?!!e[t]:!1}function du(){return Fm}var zm=G({},si,{key:function(t){if(t.key){var e=Mm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(t){return t.type==="keypress"?zi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Um=Pe(zm),Wm=G({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Pe(Wm),jm=G({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),Vm=Pe(jm),Bm=G({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hm=Pe(Bm),$m=G({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bm=Pe($m),Gm=[9,13,27,32],hu=it&&"CompositionEvent"in window,Tr=null;it&&"documentMode"in document&&(Tr=document.documentMode);var Qm=it&&"TextEvent"in window&&!Tr,fd=it&&(!hu||Tr&&8<Tr&&11>=Tr),Ua=String.fromCharCode(32),Wa=!1;function dd(t,e){switch(t){case"keyup":return Gm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hn=!1;function Ym(t,e){switch(t){case"compositionend":return hd(e);case"keypress":return e.which!==32?null:(Wa=!0,Ua);case"textInput":return t=e.data,t===Ua&&Wa?null:t;default:return null}}function qm(t,e){if(hn)return t==="compositionend"||!hu&&dd(t,e)?(t=cd(),Fi=cu=ct=null,hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fd&&e.locale!=="ko"?null:e.data;default:return null}}var Km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ja(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Km[t.type]:e==="textarea"}function pd(t,e,n,r){Qf(r),e=qi(e,"onChange"),0<e.length&&(n=new fu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ir=null,Hr=null;function Xm(t){vd(t,0)}function Ls(t){var e=mn(t);if(jf(e))return t}function Zm(t,e){if(t==="change")return e}var md=!1;if(it){var po;if(it){var mo="oninput"in document;if(!mo){var Va=document.createElement("div");Va.setAttribute("oninput","return;"),mo=typeof Va.oninput=="function"}po=mo}else po=!1;md=po&&(!document.documentMode||9<document.documentMode)}function Ba(){Ir&&(Ir.detachEvent("onpropertychange",_d),Hr=Ir=null)}function _d(t){if(t.propertyName==="value"&&Ls(Hr)){var e=[];if(pd(e,Hr,t,tu(t)),t=Xm,Wt)t(e);else{Wt=!0;try{nu(t,e)}finally{Wt=!1,iu()}}}}function Jm(t,e,n){t==="focusin"?(Ba(),Ir=e,Hr=n,Ir.attachEvent("onpropertychange",_d)):t==="focusout"&&Ba()}function e_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ls(Hr)}function t_(t,e){if(t==="click")return Ls(e)}function n_(t,e){if(t==="input"||t==="change")return Ls(e)}function r_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ae=typeof Object.is=="function"?Object.is:r_,i_=Object.prototype.hasOwnProperty;function $r(t,e){if(Ae(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!i_.call(e,n[r])||!Ae(t[n[r]],e[n[r]]))return!1;return!0}function Ha(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $a(t,e){var n=Ha(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ha(n)}}function gd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ba(){for(var t=window,e=bi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bi(t.document)}return e}function Xo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var s_=it&&"documentMode"in document&&11>=document.documentMode,pn=null,Zo=null,Nr=null,Jo=!1;function Ga(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jo||pn==null||pn!==bi(r)||(r=pn,"selectionStart"in r&&Xo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&$r(Nr,r)||(Nr=r,r=qi(Zo,"onSelect"),0<r.length&&(e=new fu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pn)))}lu("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);lu("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);lu(hm,2);for(var Qa="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_o=0;_o<Qa.length;_o++)ou.set(Qa[_o],0);Dn("onMouseEnter",["mouseout","mouseover"]);Dn("onMouseLeave",["mouseout","mouseover"]);Dn("onPointerEnter",["pointerout","pointerover"]);Dn("onPointerLeave",["pointerout","pointerover"]);en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));en("onBeforeInput",["compositionend","keypress","textInput","paste"]);en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yd=new Set("cancel close invalid load scroll toggle".split(" ").concat(yr));function Ya(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,um(r,e,void 0,t),t.currentTarget=null}function vd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Ya(i,l,a),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Ya(i,l,a),s=u}}}if(Qi)throw t=Yo,Qi=!1,Yo=null,t}function H(t,e){var n=kd(e),r=t+"__bubble";n.has(r)||(Cd(e,t,2,!1),n.add(r))}var qa="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){t[qa]||(t[qa]=!0,zf.forEach(function(e){yd.has(e)||Ka(e,!1,t,null),Ka(e,!0,t,null)}))}function Ka(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&yd.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=kd(s),l=t+"__"+(e?"capture":"bubble");o.has(l)||(e&&(i|=4),Cd(s,t,i,e),o.add(l))}function Cd(t,e,n,r){var i=ou.get(e);switch(i===void 0?2:i){case 0:i=wm;break;case 1:i=Sm;break;default:i=uu}n=i.bind(null,e,n,t),i=void 0,!Qo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wd(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=jt(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}im(function(){var a=s,d=tu(n),f=[];e:{var c=ud.get(t);if(c!==void 0){var g=fu,v=t;switch(t){case"keypress":if(zi(n)===0)break e;case"keydown":case"keyup":g=Um;break;case"focusin":v="focus",g=ho;break;case"focusout":v="blur",g=ho;break;case"beforeblur":case"afterblur":g=ho;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=La;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Vm;break;case id:case sd:case od:g=Rm;break;case ld:g=Hm;break;case"scroll":g=km;break;case"wheel":g=bm;break;case"copy":case"cut":case"paste":g=Om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=za}var w=(e&4)!==0,m=!w&&t==="scroll",h=w?c!==null?c+"Capture":null:c;w=[];for(var p=a,_;p!==null;){_=p;var y=_.stateNode;if(_.tag===5&&y!==null&&(_=y,h!==null&&(y=Wr(p,h),y!=null&&w.push(br(p,y,_)))),m)break;p=p.return}0<w.length&&(c=new g(c,v,null,n,d),f.push({event:c,listeners:w}))}}if((e&7)===0){e:{if(c=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",c&&(e&16)===0&&(v=n.relatedTarget||n.fromElement)&&(jt(v)||v[bn]))break e;if((g||c)&&(c=d.window===d?d:(c=d.ownerDocument)?c.defaultView||c.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=a,v=v?jt(v):null,v!==null&&(m=nn(v),v!==m||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=a),g!==v)){if(w=La,y="onMouseLeave",h="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=za,y="onPointerLeave",h="onPointerEnter",p="pointer"),m=g==null?c:mn(g),_=v==null?c:mn(v),c=new w(y,p+"leave",g,n,d),c.target=m,c.relatedTarget=_,y=null,jt(d)===a&&(w=new w(h,p+"enter",v,n,d),w.target=_,w.relatedTarget=m,y=w),m=y,g&&v)t:{for(w=g,h=v,p=0,_=w;_;_=un(_))p++;for(_=0,y=h;y;y=un(y))_++;for(;0<p-_;)w=un(w),p--;for(;0<_-p;)h=un(h),_--;for(;p--;){if(w===h||h!==null&&w===h.alternate)break t;w=un(w),h=un(h)}w=null}else w=null;g!==null&&Xa(f,c,g,w,!1),v!==null&&m!==null&&Xa(f,m,v,w,!0)}}e:{if(c=a?mn(a):window,g=c.nodeName&&c.nodeName.toLowerCase(),g==="select"||g==="input"&&c.type==="file")var x=Zm;else if(ja(c))if(md)x=n_;else{x=e_;var S=Jm}else(g=c.nodeName)&&g.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(x=t_);if(x&&(x=x(t,a))){pd(f,x,n,d);break e}S&&S(t,c,a),t==="focusout"&&(S=c._wrapperState)&&S.controlled&&c.type==="number"&&Wo(c,"number",c.value)}switch(S=a?mn(a):window,t){case"focusin":(ja(S)||S.contentEditable==="true")&&(pn=S,Zo=a,Nr=null);break;case"focusout":Nr=Zo=pn=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,Ga(f,n,d);break;case"selectionchange":if(s_)break;case"keydown":case"keyup":Ga(f,n,d)}var N;if(hu)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else hn?dd(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(fd&&n.locale!=="ko"&&(hn||O!=="onCompositionStart"?O==="onCompositionEnd"&&hn&&(N=cd()):(ct=d,cu="value"in ct?ct.value:ct.textContent,hn=!0)),S=qi(a,O),0<S.length&&(O=new Fa(O,t,null,n,d),f.push({event:O,listeners:S}),N?O.data=N:(N=hd(n),N!==null&&(O.data=N)))),(N=Qm?Ym(t,n):qm(t,n))&&(a=qi(a,"onBeforeInput"),0<a.length&&(d=new Fa("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:a}),d.data=N))}vd(f,e)})}function br(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qi(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wr(t,n),s!=null&&r.unshift(br(t,s,i)),s=Wr(t,e),s!=null&&r.push(br(t,s,i))),t=t.return}return r}function un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xa(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,i?(u=Wr(n,s),u!=null&&o.unshift(br(n,u,l))):i||(u=Wr(n,s),u!=null&&o.push(br(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Ki(){}var go=null,yo=null;function Sd(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function el(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Za=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0;function pu(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Ja(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vo=0;function l_(t){return{$$typeof:Jl,toString:t,valueOf:t}}var Fs=Math.random().toString(36).slice(2),ft="__reactFiber$"+Fs,Xi="__reactProps$"+Fs,bn="__reactContainer$"+Fs,ec="__reactEvents$"+Fs;function jt(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bn]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ja(t);t!==null;){if(n=t[ft])return n;t=Ja(t)}return e}t=n,n=t.parentNode}return null}function oi(t){return t=t[ft]||t[bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function zs(t){return t[Xi]||null}function kd(t){var e=t[ec];return e===void 0&&(e=t[ec]=new Set),e}var tl=[],_n=-1;function Pt(t){return{current:t}}function b(t){0>_n||(t.current=tl[_n],tl[_n]=null,_n--)}function Y(t,e){_n++,tl[_n]=t.current,t.current=e}var Tt={},ge=Pt(Tt),Te=Pt(!1),Gt=Tt;function Ln(t,e){var n=t.type.contextTypes;if(!n)return Tt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ie(t){return t=t.childContextTypes,t!=null}function Zi(){b(Te),b(ge)}function tc(t,e,n){if(ge.current!==Tt)throw Error(E(168));Y(ge,e),Y(Te,n)}function Td(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(E(108,En(e)||"Unknown",i));return G({},n,r)}function Ui(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tt,Gt=ge.current,Y(ge,t),Y(Te,Te.current),!0}function nc(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Td(t,e,Gt),r.__reactInternalMemoizedMergedChildContext=t,b(Te),b(ge),Y(ge,t)):b(Te),Y(Te,n)}var mu=null,$t=null,u_=se.unstable_runWithPriority,_u=se.unstable_scheduleCallback,nl=se.unstable_cancelCallback,a_=se.unstable_shouldYield,rc=se.unstable_requestPaint,rl=se.unstable_now,c_=se.unstable_getCurrentPriorityLevel,Us=se.unstable_ImmediatePriority,Id=se.unstable_UserBlockingPriority,Nd=se.unstable_NormalPriority,xd=se.unstable_LowPriority,Rd=se.unstable_IdlePriority,Eo={},f_=rc!==void 0?rc:function(){},Xe=null,Wi=null,Co=!1,ic=rl(),me=1e4>ic?rl:function(){return rl()-ic};function Fn(){switch(c_()){case Us:return 99;case Id:return 98;case Nd:return 97;case xd:return 96;case Rd:return 95;default:throw Error(E(332))}}function Pd(t){switch(t){case 99:return Us;case 98:return Id;case 97:return Nd;case 96:return xd;case 95:return Rd;default:throw Error(E(332))}}function Qt(t,e){return t=Pd(t),u_(t,e)}function Gr(t,e,n){return t=Pd(t),_u(t,e,n)}function Ke(){if(Wi!==null){var t=Wi;Wi=null,nl(t)}Od()}function Od(){if(!Co&&Xe!==null){Co=!0;var t=0;try{var e=Xe;Qt(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Xe=null}catch(n){throw Xe!==null&&(Xe=Xe.slice(t+1)),_u(Us,Ke),n}finally{Co=!1}}}var d_=tn.ReactCurrentBatchConfig;function We(t,e){if(t&&t.defaultProps){e=G({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ji=Pt(null),es=null,gn=null,ts=null;function gu(){ts=gn=es=null}function yu(t){var e=Ji.current;b(Ji),t.type._context._currentValue=e}function Ad(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Tn(t,e){es=t,ts=gn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Ve=!0),t.firstContext=null)}function Le(t,e){if(ts!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(ts=t,e=1073741823),e={context:t,observedBits:e,next:null},gn===null){if(es===null)throw Error(E(308));gn=e,es.dependencies={lanes:0,firstContext:e,responders:null}}else gn=gn.next=e;return t._currentValue}var ut=!1;function vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Md(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gt(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function sc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qr(t,e,n,r){var i=t.updateQueue;ut=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?s=a:o.next=a,o=u;var d=t.alternate;if(d!==null){d=d.updateQueue;var f=d.lastBaseUpdate;f!==o&&(f===null?d.firstBaseUpdate=a:f.next=a,d.lastBaseUpdate=u)}}if(s!==null){f=i.baseState,o=0,d=a=u=null;do{l=s.lane;var c=s.eventTime;if((r&l)===l){d!==null&&(d=d.next={eventTime:c,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,v=s;switch(l=e,c=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(c,f,l);break e}f=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=v.payload,l=typeof g=="function"?g.call(c,f,l):g,l==null)break e;f=G({},f,l);break e;case 2:ut=!0}}s.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else c={eventTime:c,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(a=d=c,u=f):d=d.next=c,o|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=d,ui|=o,t.lanes=o,t.memoizedState=f}}function oc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Dd=new Rs.Component().refs;function ns(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:G({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ws={isMounted:function(t){return(t=t._reactInternals)?nn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xe(),i=yt(t),s=_t(r,i);s.payload=e,n!=null&&(s.callback=n),gt(t,s),vt(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xe(),i=yt(t),s=_t(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),gt(t,s),vt(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xe(),r=yt(t),i=_t(n,r);i.tag=2,e!=null&&(i.callback=e),gt(t,i),vt(t,r,n)}};function lc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$r(n,r)||!$r(i,s):!0}function Ld(t,e,n){var r=!1,i=Tt,s=e.contextType;return typeof s=="object"&&s!==null?s=Le(s):(i=Ie(e)?Gt:ge.current,r=e.contextTypes,s=(r=r!=null)?Ln(t,i):Tt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ws,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ws.enqueueReplaceState(e,e.state,null)}function il(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Dd,vu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Le(s):(s=Ie(e)?Gt:ge.current,i.context=Ln(t,s)),Qr(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ns(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ws.enqueueReplaceState(i,i.state,null),Qr(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var ki=Array.isArray;function or(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===Dd&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Ti(t,e){if(t.type!=="textarea")throw Error(E(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Fd(t){function e(m,h){if(t){var p=m.lastEffect;p!==null?(p.nextEffect=h,m.lastEffect=h):m.firstEffect=m.lastEffect=h,h.nextEffect=null,h.flags=8}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Nt(m,h),m.index=0,m.sibling=null,m}function s(m,h,p){return m.index=p,t?(p=m.alternate,p!==null?(p=p.index,p<h?(m.flags=2,h):p):(m.flags=2,h)):h}function o(m){return t&&m.alternate===null&&(m.flags=2),m}function l(m,h,p,_){return h===null||h.tag!==6?(h=Io(p,m.mode,_),h.return=m,h):(h=i(h,p),h.return=m,h)}function u(m,h,p,_){return h!==null&&h.elementType===p.type?(_=i(h,p.props),_.ref=or(m,h,p),_.return=m,_):(_=Hi(p.type,p.key,p.props,null,m.mode,_),_.ref=or(m,h,p),_.return=m,_)}function a(m,h,p,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=No(p,m.mode,_),h.return=m,h):(h=i(h,p.children||[]),h.return=m,h)}function d(m,h,p,_,y){return h===null||h.tag!==7?(h=Rn(p,m.mode,_,y),h.return=m,h):(h=i(h,p),h.return=m,h)}function f(m,h,p){if(typeof h=="string"||typeof h=="number")return h=Io(""+h,m.mode,p),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case _r:return p=Hi(h.type,h.key,h.props,null,m.mode,p),p.ref=or(m,null,h),p.return=m,p;case Ut:return h=No(h,m.mode,p),h.return=m,h}if(ki(h)||er(h))return h=Rn(h,m.mode,p,null),h.return=m,h;Ti(m,h)}return null}function c(m,h,p,_){var y=h!==null?h.key:null;if(typeof p=="string"||typeof p=="number")return y!==null?null:l(m,h,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _r:return p.key===y?p.type===at?d(m,h,p.props.children,_,y):u(m,h,p,_):null;case Ut:return p.key===y?a(m,h,p,_):null}if(ki(p)||er(p))return y!==null?null:d(m,h,p,_,null);Ti(m,p)}return null}function g(m,h,p,_,y){if(typeof _=="string"||typeof _=="number")return m=m.get(p)||null,l(h,m,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _r:return m=m.get(_.key===null?p:_.key)||null,_.type===at?d(h,m,_.props.children,y,_.key):u(h,m,_,y);case Ut:return m=m.get(_.key===null?p:_.key)||null,a(h,m,_,y)}if(ki(_)||er(_))return m=m.get(p)||null,d(h,m,_,y,null);Ti(h,_)}return null}function v(m,h,p,_){for(var y=null,x=null,S=h,N=h=0,O=null;S!==null&&N<p.length;N++){S.index>N?(O=S,S=null):O=S.sibling;var I=c(m,S,p[N],_);if(I===null){S===null&&(S=O);break}t&&S&&I.alternate===null&&e(m,S),h=s(I,h,N),x===null?y=I:x.sibling=I,x=I,S=O}if(N===p.length)return n(m,S),y;if(S===null){for(;N<p.length;N++)S=f(m,p[N],_),S!==null&&(h=s(S,h,N),x===null?y=S:x.sibling=S,x=S);return y}for(S=r(m,S);N<p.length;N++)O=g(S,m,N,p[N],_),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?N:O.key),h=s(O,h,N),x===null?y=O:x.sibling=O,x=O);return t&&S.forEach(function(oe){return e(m,oe)}),y}function w(m,h,p,_){var y=er(p);if(typeof y!="function")throw Error(E(150));if(p=y.call(p),p==null)throw Error(E(151));for(var x=y=null,S=h,N=h=0,O=null,I=p.next();S!==null&&!I.done;N++,I=p.next()){S.index>N?(O=S,S=null):O=S.sibling;var oe=c(m,S,I.value,_);if(oe===null){S===null&&(S=O);break}t&&S&&oe.alternate===null&&e(m,S),h=s(oe,h,N),x===null?y=oe:x.sibling=oe,x=oe,S=O}if(I.done)return n(m,S),y;if(S===null){for(;!I.done;N++,I=p.next())I=f(m,I.value,_),I!==null&&(h=s(I,h,N),x===null?y=I:x.sibling=I,x=I);return y}for(S=r(m,S);!I.done;N++,I=p.next())I=g(S,m,N,I.value,_),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?N:I.key),h=s(I,h,N),x===null?y=I:x.sibling=I,x=I);return t&&S.forEach(function(eo){return e(m,eo)}),y}return function(m,h,p,_){var y=typeof p=="object"&&p!==null&&p.type===at&&p.key===null;y&&(p=p.props.children);var x=typeof p=="object"&&p!==null;if(x)switch(p.$$typeof){case _r:e:{for(x=p.key,y=h;y!==null;){if(y.key===x){switch(y.tag){case 7:if(p.type===at){n(m,y.sibling),h=i(y,p.props.children),h.return=m,m=h;break e}break;default:if(y.elementType===p.type){n(m,y.sibling),h=i(y,p.props),h.ref=or(m,y,p),h.return=m,m=h;break e}}n(m,y);break}else e(m,y);y=y.sibling}p.type===at?(h=Rn(p.props.children,m.mode,_,p.key),h.return=m,m=h):(_=Hi(p.type,p.key,p.props,null,m.mode,_),_.ref=or(m,h,p),_.return=m,m=_)}return o(m);case Ut:e:{for(y=p.key;h!==null;){if(h.key===y)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(m,h.sibling),h=i(h,p.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=No(p,m.mode,_),h.return=m,m=h}return o(m)}if(typeof p=="string"||typeof p=="number")return p=""+p,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,p),h.return=m,m=h):(n(m,h),h=Io(p,m.mode,_),h.return=m,m=h),o(m);if(ki(p))return v(m,h,p,_);if(er(p))return w(m,h,p,_);if(x&&Ti(m,p),typeof p=="undefined"&&!y)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(E(152,En(m.type)||"Component"))}return n(m,h)}}var rs=Fd(!0),zd=Fd(!1),li={},Ye=Pt(li),Yr=Pt(li),qr=Pt(li);function Vt(t){if(t===li)throw Error(E(174));return t}function sl(t,e){switch(Y(qr,e),Y(Yr,t),Y(Ye,li),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ho(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ho(e,t)}b(Ye),Y(Ye,e)}function zn(){b(Ye),b(Yr),b(qr)}function ac(t){Vt(qr.current);var e=Vt(Ye.current),n=Ho(e,t.type);e!==n&&(Y(Yr,t),Y(Ye,n))}function Eu(t){Yr.current===t&&(b(Ye),b(Yr))}var Q=Pt(0);function is(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Je=null,dt=null,qe=!1;function Ud(t,e){var n=Me(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function cc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ol(t){if(qe){var e=dt;if(e){var n=e;if(!cc(t,e)){if(e=kn(n.nextSibling),!e||!cc(t,e)){t.flags=t.flags&-1025|2,qe=!1,Je=t;return}Ud(Je,n)}Je=t,dt=kn(e.firstChild)}else t.flags=t.flags&-1025|2,qe=!1,Je=t}}function fc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function Ii(t){if(t!==Je)return!1;if(!qe)return fc(t),qe=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!el(e,t.memoizedProps))for(e=dt;e;)Ud(t,e),e=kn(e.nextSibling);if(fc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=Je?kn(t.stateNode.nextSibling):null;return!0}function wo(){dt=Je=null,qe=!1}var In=[];function Cu(){for(var t=0;t<In.length;t++)In[t]._workInProgressVersionPrimary=null;In.length=0}var xr=tn.ReactCurrentDispatcher,De=tn.ReactCurrentBatchConfig,Kr=0,X=null,de=null,ue=null,ss=!1,Rr=!1;function Ce(){throw Error(E(321))}function wu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ae(t[n],e[n]))return!1;return!0}function Su(t,e,n,r,i,s){if(Kr=s,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xr.current=t===null||t.memoizedState===null?p_:m_,t=n(r,i),Rr){s=0;do{if(Rr=!1,!(25>s))throw Error(E(301));s+=1,ue=de=null,e.updateQueue=null,xr.current=__,t=n(r,i)}while(Rr)}if(xr.current=as,e=de!==null&&de.next!==null,Kr=0,ue=de=X=null,ss=!1,e)throw Error(E(300));return t}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?X.memoizedState=ue=t:ue=ue.next=t,ue}function rn(){if(de===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=ue===null?X.memoizedState:ue.next;if(e!==null)ue=e,de=t;else{if(t===null)throw Error(E(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ue===null?X.memoizedState=ue=t:ue=ue.next=t}return ue}function Ge(t,e){return typeof e=="function"?e(t):e}function lr(t){var e=rn(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=de,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=o=s=null,u=i;do{var a=u.lane;if((Kr&a)===a)l!==null&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var d={lane:a,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,X.lanes|=a,ui|=a}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=o,Ae(r,e.memoizedState)||(Ve=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ur(t){var e=rn(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ae(s,e.memoizedState)||(Ve=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dc(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Kr&t)===t)&&(e._workInProgressVersionPrimary=r,In.push(e))),t)return n(e._source);throw In.push(e),Error(E(350))}function Wd(t,e,n,r){var i=ve;if(i===null)throw Error(E(349));var s=e._getVersion,o=s(e._source),l=xr.current,u=l.useState(function(){return dc(i,e,n)}),a=u[1],d=u[0];u=ue;var f=t.memoizedState,c=f.refs,g=c.getSnapshot,v=f.source;f=f.subscribe;var w=X;return t.memoizedState={refs:c,source:e,subscribe:r},l.useEffect(function(){c.getSnapshot=n,c.setSnapshot=a;var m=s(e._source);if(!Ae(o,m)){m=n(e._source),Ae(d,m)||(a(m),m=yt(w),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var h=i.entanglements,p=m;0<p;){var _=31-kt(p),y=1<<_;h[_]|=m,p&=~y}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var m=c.getSnapshot,h=c.setSnapshot;try{h(m(e._source));var p=yt(w);i.mutableReadLanes|=p&i.pendingLanes}catch(_){h(function(){throw _})}})},[e,r]),Ae(g,n)&&Ae(v,e)&&Ae(f,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Ge,lastRenderedState:d},t.dispatch=a=Iu.bind(null,X,t),u.queue=t,u.baseQueue=null,d=dc(i,e,n),u.memoizedState=u.baseState=d),d}function jd(t,e,n){var r=rn();return Wd(r,t,e,n)}function ar(t){var e=Bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Ge,lastRenderedState:t},t=t.dispatch=Iu.bind(null,X,t),[e.memoizedState,t]}function os(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=X.updateQueue,e===null?(e={lastEffect:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hc(t){var e=Bt();return t={current:t},e.memoizedState=t}function ls(){return rn().memoizedState}function ll(t,e,n,r){var i=Bt();X.flags|=t,i.memoizedState=os(1|e,n,void 0,r===void 0?null:r)}function ku(t,e,n,r){var i=rn();r=r===void 0?null:r;var s=void 0;if(de!==null){var o=de.memoizedState;if(s=o.destroy,r!==null&&wu(r,o.deps)){os(e,n,s,r);return}}X.flags|=t,i.memoizedState=os(1|e,n,s,r)}function pc(t,e){return ll(516,4,t,e)}function us(t,e){return ku(516,4,t,e)}function Vd(t,e){return ku(4,2,t,e)}function Bd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hd(t,e,n){return n=n!=null?n.concat([t]):null,ku(4,2,Bd.bind(null,e,t),n)}function Tu(){}function $d(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bd(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h_(t,e){var n=Fn();Qt(98>n?98:n,function(){t(!0)}),Qt(97<n?97:n,function(){var r=De.transition;De.transition=1;try{t(!1),e()}finally{De.transition=r}})}function Iu(t,e,n){var r=xe(),i=yt(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===X||o!==null&&o===X)Rr=ss=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,n);if(s.eagerReducer=o,s.eagerState=u,Ae(u,l))return}catch{}finally{}vt(t,i,r)}}var as={readContext:Le,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useOpaqueIdentifier:Ce,unstable_isNewReconciler:!1},p_={readContext:Le,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:Le,useEffect:pc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ll(4,2,Bd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ll(4,2,t,e)},useMemo:function(t,e){var n=Bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Iu.bind(null,X,t),[r.memoizedState,t]},useRef:hc,useState:ar,useDebugValue:Tu,useDeferredValue:function(t){var e=ar(t),n=e[0],r=e[1];return pc(function(){var i=De.transition;De.transition=1;try{r(t)}finally{De.transition=i}},[t]),n},useTransition:function(){var t=ar(!1),e=t[0];return t=h_.bind(null,t[1]),hc(t),[t,e]},useMutableSource:function(t,e,n){var r=Bt();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Wd(r,t,e,n)},useOpaqueIdentifier:function(){if(qe){var t=!1,e=l_(function(){throw t||(t=!0,n("r:"+(vo++).toString(36))),Error(E(355))}),n=ar(e)[1];return(X.mode&2)===0&&(X.flags|=516,os(5,function(){n("r:"+(vo++).toString(36))},void 0,null)),e}return e="r:"+(vo++).toString(36),ar(e),e},unstable_isNewReconciler:!1},m_={readContext:Le,useCallback:$d,useContext:Le,useEffect:us,useImperativeHandle:Hd,useLayoutEffect:Vd,useMemo:bd,useReducer:lr,useRef:ls,useState:function(){return lr(Ge)},useDebugValue:Tu,useDeferredValue:function(t){var e=lr(Ge),n=e[0],r=e[1];return us(function(){var i=De.transition;De.transition=1;try{r(t)}finally{De.transition=i}},[t]),n},useTransition:function(){var t=lr(Ge)[0];return[ls().current,t]},useMutableSource:jd,useOpaqueIdentifier:function(){return lr(Ge)[0]},unstable_isNewReconciler:!1},__={readContext:Le,useCallback:$d,useContext:Le,useEffect:us,useImperativeHandle:Hd,useLayoutEffect:Vd,useMemo:bd,useReducer:ur,useRef:ls,useState:function(){return ur(Ge)},useDebugValue:Tu,useDeferredValue:function(t){var e=ur(Ge),n=e[0],r=e[1];return us(function(){var i=De.transition;De.transition=1;try{r(t)}finally{De.transition=i}},[t]),n},useTransition:function(){var t=ur(Ge)[0];return[ls().current,t]},useMutableSource:jd,useOpaqueIdentifier:function(){return ur(Ge)[0]},unstable_isNewReconciler:!1},g_=tn.ReactCurrentOwner,Ve=!1;function we(t,e,n,r){e.child=t===null?zd(e,null,n,r):rs(e,t.child,n,r)}function mc(t,e,n,r,i){n=n.render;var s=e.ref;return Tn(e,i),r=Su(t,e,n,r,s,i),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,et(t,e,i)):(e.flags|=1,we(t,e,r,i),e.child)}function _c(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Au(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Gd(t,e,o,r,i,s)):(t=Hi(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:$r,n(i,r)&&t.ref===e.ref)?et(t,e,s):(e.flags|=1,t=Nt(o,r),t.ref=e.ref,t.return=e,e.child=t)}function Gd(t,e,n,r,i,s){if(t!==null&&$r(t.memoizedProps,r)&&t.ref===e.ref)if(Ve=!1,(s&i)!==0)(t.flags&16384)!==0&&(Ve=!0);else return e.lanes=t.lanes,et(t,e,s);return ul(t,e,n,r,s)}function So(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},xi(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},xi(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},xi(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xi(e,r);return we(t,e,i,n),e.child}function Qd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function ul(t,e,n,r,i){var s=Ie(n)?Gt:ge.current;return s=Ln(e,s),Tn(e,i),n=Su(t,e,n,r,s,i),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,et(t,e,i)):(e.flags|=1,we(t,e,n,i),e.child)}function gc(t,e,n,r,i){if(Ie(n)){var s=!0;Ui(e)}else s=!1;if(Tn(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Ld(e,n,r),il(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=Le(a):(a=Ie(n)?Gt:ge.current,a=Ln(e,a));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&uc(e,o,r,a),ut=!1;var c=e.memoizedState;o.state=c,Qr(e,r,o,i),u=e.memoizedState,l!==r||c!==u||Te.current||ut?(typeof d=="function"&&(ns(e,n,d,r),u=e.memoizedState),(l=ut||lc(e,n,l,r,c,u,a))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,Md(t,e),l=e.memoizedProps,a=e.type===e.elementType?l:We(e.type,l),o.props=a,f=e.pendingProps,c=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Le(u):(u=Ie(n)?Gt:ge.current,u=Ln(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||c!==u)&&uc(e,o,r,u),ut=!1,c=e.memoizedState,o.state=c,Qr(e,r,o,i);var v=e.memoizedState;l!==f||c!==v||Te.current||ut?(typeof g=="function"&&(ns(e,n,g,r),v=e.memoizedState),(a=ut||lc(e,n,a,r,c,v,u))?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=256),r=!1)}return al(t,e,n,r,s,i)}function al(t,e,n,r,i,s){Qd(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&nc(e,n,!1),et(t,e,s);r=e.stateNode,g_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=rs(e,t.child,null,s),e.child=rs(e,null,l,s)):we(t,e,l,s),e.memoizedState=r.state,i&&nc(e,n,!0),e.child}function yc(t){var e=t.stateNode;e.pendingContext?tc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tc(t,e.context,!1),sl(t,e.containerInfo)}var Ni={dehydrated:null,retryLane:0};function vc(t,e,n){var r=e.pendingProps,i=Q.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Y(Q,i&1),t===null?(r.fallback!==void 0&&ol(e),t=r.children,i=r.fallback,s?(t=Ec(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ni,t):typeof r.unstable_expectedLoadTime=="number"?(t=Ec(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ni,e.lanes=33554432,t):(n=Mu({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=wc(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Ni,r):(n=Cc(t,e,r.children,n),e.memoizedState=null,n):s?(r=wc(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Ni,r):(n=Cc(t,e,r.children,n),e.memoizedState=null,n)}function Ec(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Mu(e,i,0,null),n=Rn(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Cc(t,e,n,r){var i=t.child;return t=i.sibling,n=Nt(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function wc(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var l={mode:"hidden",children:n};return(s&2)===0&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=l,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Nt(o,l),t!==null?r=Nt(t,r):(r=Rn(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Sc(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ad(t.return,e)}function ko(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function kc(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(we(t,e,r.children,n),r=Q.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sc(t,n);else if(t.tag===19)Sc(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Y(Q,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&is(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ko(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&is(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ko(e,!0,n,null,s,e.lastEffect);break;case"together":ko(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function et(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Nt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Yd,cl,qd,Kd;Yd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cl=function(){};qd=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vt(Ye.current);var s=null;switch(n){case"input":i=zo(t,i),r=zo(t,r),s=[];break;case"option":i=jo(t,i),r=jo(t,r),s=[];break;case"select":i=G({},i,{value:void 0}),r=G({},r,{value:void 0}),s=[];break;case"textarea":i=Vo(t,i),r=Vo(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ki)}$o(n,r);var o;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var l=i[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zr.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in r){var u=r[a];if(l=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(zr.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&H("scroll",t),s||l===u||(s=[])):typeof u=="object"&&u!==null&&u.$$typeof===Jl?u.toString():(s=s||[]).push(a,u))}n&&(s=s||[]).push("style",n);var a=s;(e.updateQueue=a)&&(e.flags|=4)}};Kd=function(t,e,n,r){n!==r&&(e.flags|=4)};function cr(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function y_(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ie(e.type)&&Zi(),null;case 3:return zn(),b(Te),b(ge),Cu(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ii(e)?e.flags|=4:r.hydrate||(e.flags|=256)),cl(e),null;case 5:Eu(e);var i=Vt(qr.current);if(n=e.type,t!==null&&e.stateNode!=null)qd(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(E(166));return null}if(t=Vt(Ye.current),Ii(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ft]=e,r[Xi]=s,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(t=0;t<yr.length;t++)H(yr[t],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":ka(r,s),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},H("invalid",r);break;case"textarea":Ia(r,s),H("invalid",r)}$o(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):zr.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&H("scroll",r));switch(n){case"input":Ei(r),Ta(r,s,!0);break;case"textarea":Ei(r),Na(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ki)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Bo.html&&(t=Hf(n)),t===Bo.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ft]=e,t[Xi]=r,Yd(t,e,!1,!1),e.stateNode=t,o=bo(n,r),n){case"dialog":H("cancel",t),H("close",t),i=r;break;case"iframe":case"object":case"embed":H("load",t),i=r;break;case"video":case"audio":for(i=0;i<yr.length;i++)H(yr[i],t);i=r;break;case"source":H("error",t),i=r;break;case"img":case"image":case"link":H("error",t),H("load",t),i=r;break;case"details":H("toggle",t),i=r;break;case"input":ka(t,r),i=zo(t,r),H("invalid",t);break;case"option":i=jo(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=G({},r,{value:void 0}),H("invalid",t);break;case"textarea":Ia(t,r),i=Vo(t,r),H("invalid",t);break;default:i=r}$o(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Gf(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&$f(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ur(t,u):typeof u=="number"&&Ur(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&H("scroll",t):u!=null&&Ql(t,s,u,o))}switch(n){case"input":Ei(t),Ta(t,r,!1);break;case"textarea":Ei(t),Na(t);break;case"option":r.value!=null&&t.setAttribute("value",""+St(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Cn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Cn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ki)}Sd(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Kd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));n=Vt(qr.current),Vt(Ye.current),Ii(e)?(r=e.stateNode,n=e.memoizedProps,r[ft]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=e,e.stateNode=r)}return null;case 13:return b(Q),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Ii(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Q.current&1)!==0?ae===0&&(ae=3):((ae===0||ae===3)&&(ae=4),ve===null||(ui&134217727)===0&&(Qn&134217727)===0||Nn(ve,_e))),(r||n)&&(e.flags|=4),null);case 4:return zn(),cl(e),t===null&&Ed(e.stateNode.containerInfo),null;case 10:return yu(e),null;case 17:return Ie(e.type)&&Zi(),null;case 19:if(b(Q),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)cr(r,!1);else{if(ae!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=is(t),o!==null){for(e.flags|=64,cr(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(Q,Q.current&1|2),e.child}t=t.sibling}r.tail!==null&&me()>_l&&(e.flags|=64,s=!0,cr(r,!1),e.lanes=33554432)}else{if(!s)if(t=is(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!qe)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*me()-r.renderingStartTime>_l&&n!==1073741824&&(e.flags|=64,s=!0,cr(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=me(),n.sibling=null,e=Q.current,Y(Q,s?e&1|2:e&1),n):null;case 23:case 24:return Ou(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(E(156,e.tag))}function v_(t){switch(t.tag){case 1:Ie(t.type)&&Zi();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(zn(),b(Te),b(ge),Cu(),e=t.flags,(e&64)!==0)throw Error(E(285));return t.flags=e&-4097|64,t;case 5:return Eu(t),null;case 13:return b(Q),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return b(Q),null;case 4:return zn(),null;case 10:return yu(t),null;case 23:case 24:return Ou(),null;default:return null}}function Nu(t,e){try{var n="",r=e;do n+=Jp(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function fl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E_=typeof WeakMap=="function"?WeakMap:Map;function Xd(t,e,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fs||(fs=!0,gl=r),fl(t,e)},n}function Zd(t,e,n){n=_t(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return fl(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Qe===null?Qe=new Set([this]):Qe.add(this),fl(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var C_=typeof WeakSet=="function"?WeakSet:Set;function Tc(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Et(t,n)}else e.current=null}function w_(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:We(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&pu(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(E(163))}function S_(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(lh(n,t),O_(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:We(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&oc(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}oc(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Sd(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&nd(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(E(163))}function Ic(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=bf("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Nc(t,e){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(mu,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)lh(e,n);else{r=e;try{i()}catch(s){Et(r,s)}}n=n.next}while(n!==t)}break;case 1:if(Tc(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Et(e,s)}break;case 5:Tc(e);break;case 4:Jd(t,e)}}function xc(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Rc(t){return t.tag===5||t.tag===3||t.tag===4}function Pc(t){e:{for(var e=t.return;e!==null;){if(Rc(e))break e;e=e.return}throw Error(E(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(E(161))}n.flags&16&&(Ur(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||Rc(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?dl(t,n,e):hl(t,n,e)}function dl(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ki));else if(r!==4&&(t=t.child,t!==null))for(dl(t,e,n),t=t.sibling;t!==null;)dl(t,e,n),t=t.sibling}function hl(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hl(t,e,n),t=t.sibling;t!==null;)hl(t,e,n),t=t.sibling}function Jd(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(E(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,l=n,u=l;;)if(Nc(o,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(o=i,l=n.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Nc(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function To(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Xi]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Vf(n,r),bo(t,i),e=bo(t,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];o==="style"?Gf(n,l):o==="dangerouslySetInnerHTML"?$f(n,l):o==="children"?Ur(n,l):Ql(n,o,l,e)}switch(t){case"input":Uo(n,r);break;case"textarea":Bf(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Cn(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Cn(n,!!r.multiple,r.defaultValue,!0):Cn(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(E(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,nd(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Pu=me(),Ic(e.child,!0)),Oc(e);return;case 19:Oc(e);return;case 17:return;case 23:case 24:Ic(e,e.memoizedState!==null);return}throw Error(E(163))}function Oc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C_),e.forEach(function(r){var i=D_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function k_(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var T_=Math.ceil,cs=tn.ReactCurrentDispatcher,xu=tn.ReactCurrentOwner,P=0,ve=null,J=null,_e=0,Yt=0,pl=Pt(0),ae=0,js=null,Gn=0,ui=0,Qn=0,Ru=0,ml=null,Pu=0,_l=1/0;function Yn(){_l=me()+500}var T=null,fs=!1,gl=null,Qe=null,It=!1,Pr=null,vr=90,yl=[],vl=[],nt=null,Or=0,El=null,ji=-1,Ze=0,Vi=0,Ar=null,Bi=!1;function xe(){return(P&48)!==0?me():ji!==-1?ji:ji=me()}function yt(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Fn()===99?1:2;if(Ze===0&&(Ze=Gn),d_.transition!==0){Vi!==0&&(Vi=ml!==null?ml.pendingLanes:0),t=Ze;var e=4186112&~Vi;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Fn(),(P&4)!==0&&t===98?t=Yi(12,Ze):(t=mm(t),t=Yi(t,Ze)),t}function vt(t,e,n){if(50<Or)throw Or=0,El=null,Error(E(185));if(t=Vs(t,e),t===null)return null;Ms(t,e,n),t===ve&&(Qn|=e,ae===4&&Nn(t,_e));var r=Fn();e===1?(P&8)!==0&&(P&48)===0?Cl(t):(Fe(t,n),P===0&&(Yn(),Ke())):((P&4)===0||r!==98&&r!==99||(nt===null?nt=new Set([t]):nt.add(t)),Fe(t,n)),ml=t}function Vs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Fe(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-kt(o),u=1<<l,a=s[l];if(a===-1){if((u&r)===0||(u&i)!==0){a=e,cn(u);var d=j;s[l]=10<=d?a+250:6<=d?a+5e3:-1}}else a<=e&&(t.expiredLanes|=u);o&=~u}if(r=Br(t,t===ve?_e:0),e=j,r===0)n!==null&&(n!==Eo&&nl(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Eo&&nl(n)}e===15?(n=Cl.bind(null,t),Xe===null?(Xe=[n],Wi=_u(Us,Od)):Xe.push(n),n=Eo):e===14?n=Gr(99,Cl.bind(null,t)):(n=_m(e),n=Gr(n,eh.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function eh(t){if(ji=-1,Vi=Ze=0,(P&48)!==0)throw Error(E(327));var e=t.callbackNode;if(Ot()&&t.callbackNode!==e)return null;var n=Br(t,t===ve?_e:0);if(n===0)return null;var r=n,i=P;P|=16;var s=ih();(ve!==t||_e!==r)&&(Yn(),xn(t,r));do try{x_();break}catch(l){rh(t,l)}while(1);if(gu(),cs.current=s,P=i,J!==null?r=0:(ve=null,_e=0,r=ae),(Gn&Qn)!==0)xn(t,0);else if(r!==0){if(r===2&&(P|=64,t.hydrate&&(t.hydrate=!1,pu(t.containerInfo)),n=ad(t),n!==0&&(r=Er(t,n))),r===1)throw e=js,xn(t,0),Nn(t,n),Fe(t,me()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(E(345));case 2:Lt(t);break;case 3:if(Nn(t,n),(n&62914560)===n&&(r=Pu+500-me(),10<r)){if(Br(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){xe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Za(Lt.bind(null,t),r);break}Lt(t);break;case 4:if(Nn(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-kt(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*T_(n/1960))-n,10<n){t.timeoutHandle=Za(Lt.bind(null,t),n);break}Lt(t);break;case 5:Lt(t);break;default:throw Error(E(329))}}return Fe(t,me()),t.callbackNode===e?eh.bind(null,t):null}function Nn(t,e){for(e&=~Ru,e&=~Qn,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function Cl(t){if((P&48)!==0)throw Error(E(327));if(Ot(),t===ve&&(t.expiredLanes&_e)!==0){var e=_e,n=Er(t,e);(Gn&Qn)!==0&&(e=Br(t,e),n=Er(t,e))}else e=Br(t,0),n=Er(t,e);if(t.tag!==0&&n===2&&(P|=64,t.hydrate&&(t.hydrate=!1,pu(t.containerInfo)),e=ad(t),e!==0&&(n=Er(t,e))),n===1)throw n=js,xn(t,0),Nn(t,e),Fe(t,me()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lt(t),Fe(t,me()),null}function I_(){if(nt!==null){var t=nt;nt=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Fe(e,me())})}Ke()}function th(t,e){var n=P;P|=1;try{return t(e)}finally{P=n,P===0&&(Yn(),Ke())}}function nh(t,e){var n=P;P&=-2,P|=8;try{return t(e)}finally{P=n,P===0&&(Yn(),Ke())}}function xi(t,e){Y(pl,Yt),Yt|=e,Gn|=e}function Ou(){Yt=pl.current,b(pl)}function xn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,o_(n)),J!==null)for(n=J.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zi();break;case 3:zn(),b(Te),b(ge),Cu();break;case 5:Eu(r);break;case 4:zn();break;case 13:b(Q);break;case 19:b(Q);break;case 10:yu(r);break;case 23:case 24:Ou()}n=n.return}ve=t,J=Nt(t.current,null),_e=Yt=Gn=e,ae=0,js=null,Ru=Qn=ui=0}function rh(t,e){do{var n=J;try{if(gu(),xr.current=as,ss){for(var r=X.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ss=!1}if(Kr=0,ue=de=X=null,Rr=!1,xu.current=null,n===null||n.return===null){ae=1,js=e,J=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=_e,l.flags|=2048,l.firstEffect=l.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u;if((l.mode&2)===0){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var f=(Q.current&1)!==0,c=o;do{var g;if(g=c.tag===13){var v=c.memoizedState;if(v!==null)g=v.dehydrated!==null;else{var w=c.memoizedProps;g=w.fallback===void 0?!1:w.unstable_avoidThisFallback!==!0?!0:!f}}if(g){var m=c.updateQueue;if(m===null){var h=new Set;h.add(a),c.updateQueue=h}else m.add(a);if((c.mode&2)===0){if(c.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var p=_t(-1,1);p.tag=2,gt(l,p)}l.lanes|=1;break e}u=void 0,l=e;var _=s.pingCache;if(_===null?(_=s.pingCache=new E_,u=new Set,_.set(a,u)):(u=_.get(a),u===void 0&&(u=new Set,_.set(a,u))),!u.has(l)){u.add(l);var y=M_.bind(null,s,a,l);a.then(y,y)}c.flags|=4096,c.lanes=e;break e}c=c.return}while(c!==null);u=Error((En(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ae!==5&&(ae=2),u=Nu(u,l),c=o;do{switch(c.tag){case 3:s=u,c.flags|=4096,e&=-e,c.lanes|=e;var x=Xd(c,s,e);sc(c,x);break e;case 1:s=u;var S=c.type,N=c.stateNode;if((c.flags&64)===0&&(typeof S.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Qe===null||!Qe.has(N)))){c.flags|=4096,e&=-e,c.lanes|=e;var O=Zd(c,s,e);sc(c,O);break e}}c=c.return}while(c!==null)}oh(n)}catch(I){e=I,J===n&&n!==null&&(J=n=n.return);continue}break}while(1)}function ih(){var t=cs.current;return cs.current=as,t===null?as:t}function Er(t,e){var n=P;P|=16;var r=ih();ve===t&&_e===e||xn(t,e);do try{N_();break}catch(i){rh(t,i)}while(1);if(gu(),P=n,cs.current=r,J!==null)throw Error(E(261));return ve=null,_e=0,ae}function N_(){for(;J!==null;)sh(J)}function x_(){for(;J!==null&&!a_();)sh(J)}function sh(t){var e=uh(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?oh(t):J=e,xu.current=null}function oh(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=y_(n,e,Yt),n!==null){J=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Yt&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=v_(e),n!==null){n.flags&=2047,J=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){J=e;return}J=e=t}while(e!==null);ae===0&&(ae=5)}function Lt(t){var e=Fn();return Qt(99,R_.bind(null,t,e)),null}function R_(t,e){do Ot();while(Pr!==null);if((P&48)!==0)throw Error(E(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,l=t.expirationTimes;0<s;){var u=31-kt(s),a=1<<u;i[u]=0,o[u]=-1,l[u]=-1,s&=~a}if(nt!==null&&(r&24)===0&&nt.has(t)&&nt.delete(t),t===ve&&(J=ve=null,_e=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=P,P|=32,xu.current=null,go=Li,o=ba(),Xo(o)){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(a=l.getSelection&&l.getSelection())&&a.rangeCount!==0){l=a.anchorNode,s=a.anchorOffset,u=a.focusNode,a=a.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var d=0,f=-1,c=-1,g=0,v=0,w=o,m=null;t:for(;;){for(var h;w!==l||s!==0&&w.nodeType!==3||(f=d+s),w!==u||a!==0&&w.nodeType!==3||(c=d+a),w.nodeType===3&&(d+=w.nodeValue.length),(h=w.firstChild)!==null;)m=w,w=h;for(;;){if(w===o)break t;if(m===l&&++g===s&&(f=d),m===u&&++v===a&&(c=d),(h=w.nextSibling)!==null)break;w=m,m=w.parentNode}w=h}l=f===-1||c===-1?null:{start:f,end:c}}else l=null;l=l||{start:0,end:0}}else l=null;yo={focusedElem:o,selectionRange:l},Li=!1,Ar=null,Bi=!1,T=r;do try{P_()}catch(I){if(T===null)throw Error(E(330));Et(T,I),T=T.nextEffect}while(T!==null);Ar=null,T=r;do try{for(o=t;T!==null;){var p=T.flags;if(p&16&&Ur(T.stateNode,""),p&128){var _=T.alternate;if(_!==null){var y=_.ref;y!==null&&(typeof y=="function"?y(null):y.current=null)}}switch(p&1038){case 2:Pc(T),T.flags&=-3;break;case 6:Pc(T),T.flags&=-3,To(T.alternate,T);break;case 1024:T.flags&=-1025;break;case 1028:T.flags&=-1025,To(T.alternate,T);break;case 4:To(T.alternate,T);break;case 8:l=T,Jd(o,l);var x=l.alternate;xc(l),x!==null&&xc(x)}T=T.nextEffect}}catch(I){if(T===null)throw Error(E(330));Et(T,I),T=T.nextEffect}while(T!==null);if(y=yo,_=ba(),p=y.focusedElem,o=y.selectionRange,_!==p&&p&&p.ownerDocument&&gd(p.ownerDocument.documentElement,p)){for(o!==null&&Xo(p)&&(_=o.start,y=o.end,y===void 0&&(y=_),"selectionStart"in p?(p.selectionStart=_,p.selectionEnd=Math.min(y,p.value.length)):(y=(_=p.ownerDocument||document)&&_.defaultView||window,y.getSelection&&(y=y.getSelection(),l=p.textContent.length,x=Math.min(o.start,l),o=o.end===void 0?x:Math.min(o.end,l),!y.extend&&x>o&&(l=o,o=x,x=l),l=$a(p,x),s=$a(p,o),l&&s&&(y.rangeCount!==1||y.anchorNode!==l.node||y.anchorOffset!==l.offset||y.focusNode!==s.node||y.focusOffset!==s.offset)&&(_=_.createRange(),_.setStart(l.node,l.offset),y.removeAllRanges(),x>o?(y.addRange(_),y.extend(s.node,s.offset)):(_.setEnd(s.node,s.offset),y.addRange(_)))))),_=[],y=p;y=y.parentNode;)y.nodeType===1&&_.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<_.length;p++)y=_[p],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}Li=!!go,yo=go=null,t.current=n,T=r;do try{for(p=t;T!==null;){var S=T.flags;if(S&36&&S_(p,T.alternate,T),S&128){_=void 0;var N=T.ref;if(N!==null){var O=T.stateNode;switch(T.tag){case 5:_=O;break;default:_=O}typeof N=="function"?N(_):N.current=_}}T=T.nextEffect}}catch(I){if(T===null)throw Error(E(330));Et(T,I),T=T.nextEffect}while(T!==null);T=null,f_(),P=i}else t.current=n;if(It)It=!1,Pr=t,vr=e;else for(T=r;T!==null;)e=T.nextEffect,T.nextEffect=null,T.flags&8&&(S=T,S.sibling=null,S.stateNode=null),T=e;if(r=t.pendingLanes,r===0&&(Qe=null),r===1?t===El?Or++:(Or=0,El=t):Or=0,n=n.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(mu,n,void 0,(n.current.flags&64)===64)}catch{}if(Fe(t,me()),fs)throw fs=!1,t=gl,gl=null,t;return(P&8)!==0||Ke(),null}function P_(){for(;T!==null;){var t=T.alternate;Bi||Ar===null||((T.flags&8)!==0?Pa(T,Ar)&&(Bi=!0):T.tag===13&&k_(t,T)&&Pa(T,Ar)&&(Bi=!0));var e=T.flags;(e&256)!==0&&w_(t,T),(e&512)===0||It||(It=!0,Gr(97,function(){return Ot(),null})),T=T.nextEffect}}function Ot(){if(vr!==90){var t=97<vr?97:vr;return vr=90,Qt(t,A_)}return!1}function O_(t,e){yl.push(e,t),It||(It=!0,Gr(97,function(){return Ot(),null}))}function lh(t,e){vl.push(e,t),It||(It=!0,Gr(97,function(){return Ot(),null}))}function A_(){if(Pr===null)return!1;var t=Pr;if(Pr=null,(P&48)!==0)throw Error(E(331));var e=P;P|=32;var n=vl;vl=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(u){if(s===null)throw Error(E(330));Et(s,u)}}for(n=yl,yl=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(s===null)throw Error(E(330));Et(s,u)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return P=e,Ke(),!0}function Ac(t,e,n){e=Nu(n,e),e=Xd(t,e,1),gt(t,e),e=xe(),t=Vs(t,1),t!==null&&(Ms(t,1,e),Fe(t,e))}function Et(t,e){if(t.tag===3)Ac(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Ac(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qe===null||!Qe.has(r))){t=Nu(e,t);var i=Zd(n,t,1);if(gt(n,i),i=xe(),n=Vs(n,1),n!==null)Ms(n,1,i),Fe(n,i);else if(typeof r.componentDidCatch=="function"&&(Qe===null||!Qe.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function M_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(_e&n)===n&&(ae===4||ae===3&&(_e&62914560)===_e&&500>me()-Pu?xn(t,0):Ru|=n),Fe(t,e)}function D_(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Fn()===99?1:2:(Ze===0&&(Ze=Gn),e=fn(62914560&~Ze),e===0&&(e=4194304))),n=xe(),t=Vs(t,e),t!==null&&(Ms(t,e,n),Fe(t,n))}var uh;uh=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Ve=!0;else if((n&r)!==0)Ve=(t.flags&16384)!==0;else{switch(Ve=!1,e.tag){case 3:yc(e),wo();break;case 5:ac(e);break;case 1:Ie(e.type)&&Ui(e);break;case 4:sl(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Y(Ji,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?vc(t,e,n):(Y(Q,Q.current&1),e=et(t,e,n),e!==null?e.sibling:null);Y(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return kc(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(Q,Q.current),r)break;return null;case 23:case 24:return e.lanes=0,So(t,e,n)}return et(t,e,n)}else Ve=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Ln(e,ge.current),Tn(e,n),i=Su(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(r)){var s=!0;Ui(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vu(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&ns(e,r,o,t),i.updater=Ws,e.stateNode=i,i._reactInternals=e,il(e,r,t,n),e=al(null,e,r,!0,s,n)}else e.tag=0,we(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=F_(i),t=We(i,t),s){case 0:e=ul(null,e,i,t,n);break e;case 1:e=gc(null,e,i,t,n);break e;case 11:e=mc(null,e,i,t,n);break e;case 14:e=_c(null,e,i,We(i.type,t),r,n);break e}throw Error(E(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:We(r,i),ul(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:We(r,i),gc(t,e,r,i,n);case 3:if(yc(e),r=e.updateQueue,t===null||r===null)throw Error(E(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Md(t,e),Qr(e,r,null,n),r=e.memoizedState.element,r===i)wo(),e=et(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(dt=kn(e.stateNode.containerInfo.firstChild),Je=e,s=qe=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],In.push(s);for(n=zd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else we(t,e,r,n),wo();e=e.child}return e;case 5:return ac(e),t===null&&ol(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,el(r,i)?o=null:s!==null&&el(r,s)&&(e.flags|=16),Qd(t,e),we(t,e,o,n),e.child;case 6:return t===null&&ol(e),null;case 13:return vc(t,e,n);case 4:return sl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rs(e,null,r,n):we(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:We(r,i),mc(t,e,r,i,n);case 7:return we(t,e,e.pendingProps,n),e.child;case 8:return we(t,e,e.pendingProps.children,n),e.child;case 12:return we(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var l=e.type._context;if(Y(Ji,l._currentValue),l._currentValue=s,o!==null)if(l=o.value,s=Ae(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(o.children===i.children&&!Te.current){e=et(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){o=l.child;for(var a=u.firstContext;a!==null;){if(a.context===r&&(a.observedBits&s)!==0){l.tag===1&&(a=_t(-1,n&-n),a.tag=2,gt(l,a)),l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Ad(l.return,n),u.lanes|=n;break}a=a.next}}else o=l.tag===10&&l.type===e.type?null:l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}we(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Tn(e,n),i=Le(i,s.unstable_observedBits),r=r(i),e.flags|=1,we(t,e,r,n),e.child;case 14:return i=e.type,s=We(i,e.pendingProps),s=We(i.type,s),_c(t,e,i,s,r,n);case 15:return Gd(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:We(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ie(r)?(t=!0,Ui(e)):t=!1,Tn(e,n),Ld(e,r,i),il(e,r,i,n),al(null,e,r,!0,t,n);case 19:return kc(t,e,n);case 23:return So(t,e,n);case 24:return So(t,e,n)}throw Error(E(156,e.tag))};function L_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,n,r){return new L_(t,e,n,r)}function Au(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F_(t){if(typeof t=="function")return Au(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ps)return 11;if(t===Os)return 14}return 2}function Nt(t,e){var n=t.alternate;return n===null?(n=Me(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hi(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Au(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case at:return Rn(n.children,i,s,e);case Uf:o=8,i|=16;break;case Yl:o=8,i|=1;break;case Cr:return t=Me(12,n,e,i|8),t.elementType=Cr,t.type=Cr,t.lanes=s,t;case wr:return t=Me(13,n,e,i),t.type=wr,t.elementType=wr,t.lanes=s,t;case $i:return t=Me(19,n,e,i),t.elementType=$i,t.lanes=s,t;case eu:return Mu(n,i,s,e);case Fo:return t=Me(24,n,e,i),t.elementType=Fo,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ql:o=10;break e;case Kl:o=9;break e;case Ps:o=11;break e;case Os:o=14;break e;case Xl:o=16,r=null;break e;case Zl:o=22;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Me(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Rn(t,e,n,r){return t=Me(7,t,r,e),t.lanes=n,t}function Mu(t,e,n,r){return t=Me(23,t,r,e),t.elementType=eu,t.lanes=n,t}function Io(t,e,n){return t=Me(6,t,null,e),t.lanes=n,t}function No(t,e,n){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z_(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.mutableSourceEagerHydrationData=null}function U_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ut,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ds(t,e,n,r){var i=e.current,s=xe(),o=yt(i);e:if(n){n=n._reactInternals;t:{if(nn(n)!==n||n.tag!==1)throw Error(E(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Ie(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(E(171))}if(n.tag===1){var u=n.type;if(Ie(u)){n=Td(n,u,l);break e}}n=l}else n=Tt;return e.context===null?e.context=n:e.pendingContext=n,e=_t(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),gt(i,e),vt(i,o,s),o}function xo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Du(t,e){Mc(t,e),(t=t.alternate)&&Mc(t,e)}function W_(){return null}function Lu(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new z_(t,e,n!=null&&n.hydrate===!0),e=Me(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,vu(e),t[bn]=n.current,Ed(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Lu.prototype.render=function(t){ds(t,this._internalRoot,null,null)};Lu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;ds(null,t,null,function(){e[bn]=null})};function ai(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j_(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Lu(t,0,e?{hydrate:!0}:void 0)}function Bs(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var a=xo(o);l.call(a)}}ds(e,o,t,i)}else{if(s=n._reactRootContainer=j_(n,r),o=s._internalRoot,typeof i=="function"){var u=i;i=function(){var a=xo(o);u.call(a)}}nh(function(){ds(e,o,t,i)})}return xo(o)}Jf=function(t){if(t.tag===13){var e=xe();vt(t,4,e),Du(t,4)}};su=function(t){if(t.tag===13){var e=xe();vt(t,67108864,e),Du(t,67108864)}};ed=function(t){if(t.tag===13){var e=xe(),n=yt(t);vt(t,n,e),Du(t,n)}};td=function(t,e){return e()};Go=function(t,e,n){switch(e){case"input":if(Uo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zs(r);if(!i)throw Error(E(90));jf(r),Uo(r,i)}}}break;case"textarea":Bf(t,n);break;case"select":e=n.value,e!=null&&Cn(t,!!n.multiple,e,!1)}};nu=th;qf=function(t,e,n,r,i){var s=P;P|=4;try{return Qt(98,t.bind(null,e,n,r,i))}finally{P=s,P===0&&(Yn(),Ke())}};ru=function(){(P&49)===0&&(I_(),Ot())};Kf=function(t,e){var n=P;P|=2;try{return t(e)}finally{P=n,P===0&&(Yn(),Ke())}};function ah(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ai(e))throw Error(E(200));return U_(t,e,null,n)}var V_={Events:[oi,mn,zs,Qf,Yf,Ot,{current:!1}]},fr={findFiberByHostInstance:jt,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},B_={bundleType:fr.bundleType,version:fr.version,rendererPackageName:fr.rendererPackageName,rendererConfig:fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zf(t),t===null?null:t.stateNode},findFiberByHostInstance:fr.findFiberByHostInstance||W_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{mu=Ri.inject(B_),$t=Ri}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V_;ze.createPortal=ah;ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):Error(E(268,Object.keys(t)));return t=Zf(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t,e){var n=P;if((n&48)!==0)return t(e);P|=1;try{if(t)return Qt(99,t.bind(null,e))}finally{P=n,Ke()}};ze.hydrate=function(t,e,n){if(!ai(e))throw Error(E(200));return Bs(null,t,e,!0,n)};ze.render=function(t,e,n){if(!ai(e))throw Error(E(200));return Bs(null,t,e,!1,n)};ze.unmountComponentAtNode=function(t){if(!ai(t))throw Error(E(40));return t._reactRootContainer?(nh(function(){Bs(null,null,t,!1,function(){t._reactRootContainer=null,t[bn]=null})}),!0):!1};ze.unstable_batchedUpdates=th;ze.unstable_createPortal=function(t,e){return ah(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ze.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ai(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Bs(t,e,n,!1,r)};ze.version="17.0.2";function ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ch)}catch(t){console.error(t)}}ch(),Df.exports=ze;var fE=Df.exports;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=function(t,e){if(!t)throw qn(e)},qn=function(t){return new Error("Firebase Database ("+fh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Fu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,a=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let c=(l&15)<<2|a>>6,g=a&63;u||(g=64,o||(c=64)),r.push(n[d],n[f],n[c],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||a==null||f==null)throw Error();const c=s<<2|l>>4;if(r.push(c),a!==64){const g=l<<4&240|a>>2;if(r.push(g),f!==64){const v=a<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$_=function(t){const e=dh(t);return Fu.encodeByteArray(e,!0)},Dc=function(t){try{return Fu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){return hh(void 0,t)}function hh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!G_(n)||(t[n]=hh(t[n],e[n]));return t}function G_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ph(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q_())}function Y_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mh(){return fh.NODE_ADMIN===!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="FirebaseError";class Uu extends Error{constructor(e,n,r){super(n);this.code=e,this.customData=r,this.name=q_,Object.setPrototypeOf(this,Uu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?K_(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Uu(i,l,r)}}function K_(t,e){return t.replace(X_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const X_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return JSON.parse(t)}function ie(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Xr(Dc(s[0])||""),n=Xr(Dc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Z_=function(t){const e=gh(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},J_=function(t){const e=gh(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Un(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hs(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function wl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Fc(s)&&Fc(o)){if(!wl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const c=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(c<<1|c>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],a,d;for(let f=0;f<80;f++){f<40?f<20?(a=l^s&(o^l),d=1518500249):(a=s^o^l,d=1859775393):f<60?(a=s&o|l&(s|o),d=2400959708):(a=s^o^l,d=3395469782);const c=(i<<5|i>>>27)+a+u+d+r[f]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=c}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function yh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,C(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hs=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){return t&&t._delegate?t._delegate:t}class $s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sg(e))try{this.getOrInitializeService({instanceIdentifier:Ft})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ft){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ft){return this.instances.has(e)}getOptions(e=Ft){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ig(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ft){return this.component?this.component.multipleInstances?e:Ft:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ig(t){return t===Ft?void 0:t}function sg(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(V||(V={}));const lg={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ug=V.INFO,ag={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},cg=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ag[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vh{constructor(e){this.name=e,this._logLevel=ug,this._logHandler=cg,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lg[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...e),this._logHandler(this,V.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...e),this._logHandler(this,V.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,V.INFO,...e),this._logHandler(this,V.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,V.WARN,...e),this._logHandler(this,V.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...e),this._logHandler(this,V.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dg(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dg(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sl="@firebase/app",zc="0.7.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new vh("@firebase/app"),hg="@firebase/app-compat",pg="@firebase/analytics-compat",mg="@firebase/analytics",_g="@firebase/app-check-compat",gg="@firebase/app-check",yg="@firebase/auth",vg="@firebase/auth-compat",Eg="@firebase/database",Cg="@firebase/database-compat",wg="@firebase/functions",Sg="@firebase/functions-compat",kg="@firebase/installations",Tg="@firebase/installations-compat",Ig="@firebase/messaging",Ng="@firebase/messaging-compat",xg="@firebase/performance",Rg="@firebase/performance-compat",Pg="@firebase/remote-config",Og="@firebase/remote-config-compat",Ag="@firebase/storage",Mg="@firebase/storage-compat",Dg="@firebase/firestore",Lg="@firebase/firestore-compat",Fg="firebase",zg="9.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="[DEFAULT]",Ug={[Sl]:"fire-core",[hg]:"fire-core-compat",[mg]:"fire-analytics",[pg]:"fire-analytics-compat",[gg]:"fire-app-check",[_g]:"fire-app-check-compat",[yg]:"fire-auth",[vg]:"fire-auth-compat",[Eg]:"fire-rtdb",[Cg]:"fire-rtdb-compat",[wg]:"fire-fn",[Sg]:"fire-fn-compat",[kg]:"fire-iid",[Tg]:"fire-iid-compat",[Ig]:"fire-fcm",[Ng]:"fire-fcm-compat",[xg]:"fire-perf",[Rg]:"fire-perf-compat",[Pg]:"fire-rc",[Og]:"fire-rc-compat",[Ag]:"fire-gcs",[Mg]:"fire-gcs-compat",[Dg]:"fire-fst",[Lg]:"fire-fst-compat","fire-js":"fire-js",[Fg]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Map,kl=new Map;function Wg(t,e){try{t.container.addComponent(e)}catch(n){ju.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vu(t){const e=t.name;if(kl.has(e))return ju.debug(`There were multiple attempts to register component ${e}.`),!1;kl.set(e,t);for(const n of ps.values())Wg(n,t);return!0}function jg(t,e){return t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},ms=new _h("app","Firebase",Vg);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=zg;function dE(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Eh,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw ms.create("bad-app-name",{appName:String(r)});const i=ps.get(r);if(i){if(wl(t,i.options)&&wl(n,i.config))return i;throw ms.create("duplicate-app",{appName:r})}const s=new og(r);for(const l of kl.values())s.addComponent(l);const o=new Bg(t,n,s);return ps.set(r,o),o}function $g(t=Eh){const e=ps.get(t);if(!e)throw ms.create("no-app",{appName:t});return e}function Pn(t,e,n){var r;let i=(r=Ug[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ju.warn(l.join(" "));return}Vu(new $s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){Vu(new $s("platform-logger",e=>new fg(e),"PRIVATE")),Pn(Sl,zc,t),Pn(Sl,zc,"esm2017"),Pn("fire-js","")}bg("");const Uc="@firebase/database",Wc="0.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch="";function Gg(t){Ch=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ie(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ot(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qg(e)}}catch{}return new Yg},Ht=wh("localStorage"),Tl=wh("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new vh("@firebase/database"),qg=function(){let t=1;return function(){return t++}}(),Sh=function(t){const e=ng(t),n=new tg;n.update(e);const r=n.digest();return Fu.encodeByteArray(r)},ci=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ci.apply(null,r):typeof r=="object"?e+=ie(r):e+=r,e+=" "}return e};let bt=null,jc=!0;const Kg=function(t,e){C(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(On.logLevel=V.VERBOSE,bt=On.log.bind(On),e&&Tl.set("logging_enabled",!0)):typeof t=="function"?bt=t:(bt=null,Tl.remove("logging_enabled"))},he=function(...t){if(jc===!0&&(jc=!1,bt===null&&Tl.get("logging_enabled")===!0&&Kg(!0)),bt){const e=ci.apply(null,t);bt(e)}},fi=function(t){return function(...e){he(t,...e)}},Il=function(...t){const e="FIREBASE INTERNAL ERROR: "+ci(...t);On.error(e)},qt=function(...t){const e=`FIREBASE FATAL ERROR: ${ci(...t)}`;throw On.error(e),new Error(e)},Re=function(...t){const e="FIREBASE WARNING: "+ci(...t);On.warn(e)},Xg=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Re("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Zg=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Wn="[MIN_NAME]",Kt="[MAX_NAME]",Kn=function(t,e){if(t===e)return 0;if(t===Wn||e===Kt)return-1;if(e===Wn||t===Kt)return 1;{const n=Vc(t),r=Vc(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Jg=function(t,e){return t===e?0:t<e?-1:1},dr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ie(e))},Bu=function(t){if(typeof t!="object"||t===null)return ie(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ie(e[r]),n+=":",n+=Bu(t[e[r]]);return n+="}",n},Th=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ne(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Ih=function(t){C(!kh(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const a=[];for(u=n;u;u-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)a.push(s%2?1:0),s=Math.floor(s/2);a.push(i?1:0),a.reverse();const d=a.join("");let f="";for(u=0;u<64;u+=8){let c=parseInt(d.substr(u,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},ey=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ty=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ny(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const ry=new RegExp("^-?(0*)\\d{1,10}$"),iy=-2147483648,sy=2147483647,Vc=function(t){if(ry.test(t)){const e=Number(t);if(e>=iy&&e<=sy)return e}return null},di=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Re("Exception was thrown by user callback.",n),e},Math.floor(0))}},oy=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mr=function(t,e){const n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Re(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(he("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Re(e)}}class Nl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="5",Nh="v",xh="s",Rh="r",Ph="f",Oh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ah="ls",ay="p",xl="ac",Mh="websocket",Dh="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r,i,s=!1,o="",l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ht.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ht.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function fy(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Lh(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(e===Mh)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Dh)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fy(t)&&(n.ns=t.namespace);const i=[];return Ne(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.counters_={}}incrementCounter(e,n=1){ot(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return b_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro={},Po={};function $u(t){const e=t.toString();return Ro[e]||(Ro[e]=new dy),Ro[e]}function hy(t,e){const n=t.toString();return Po[n]||(Po[n]=e()),Po[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&di(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="start",my="close",_y="pLPCommand",gy="pRTLPCB",Fh="id",zh="pw",Uh="ser",yy="cb",vy="seg",Ey="ts",Cy="d",wy="dframe",Wh=1870,jh=30,Sy=Wh-jh,ky=25e3,Ty=3e4;class yn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fi(e),this.stats_=$u(n),this.urlFn=u=>(this.appCheckToken&&(u[xl]=this.appCheckToken),Lh(n,Dh,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new py(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ty)),Zg(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bu((...s)=>{const[o,l,u,a,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Bc)this.id=l,this.password=u;else if(o===my)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Bc]="t",r[Uh]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[yy]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Nh]=Hu,this.transportSessionId&&(r[xh]=this.transportSessionId),this.lastSessionId&&(r[Ah]=this.lastSessionId),this.applicationId&&(r[ay]=this.applicationId),this.appCheckToken&&(r[xl]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Oh.test(location.hostname)&&(r[Rh]=Ph);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yn.forceAllow_=!0}static forceDisallow(){yn.forceDisallow_=!0}static isAvailable(){return yn.forceAllow_?!0:!yn.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!ey()&&!ty()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$_(n),i=Th(r,Sy);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[wy]="t",r[Fh]=e,r[zh]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ie(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bu{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qg(),window[_y+this.uniqueCallbackIdentifier]=e,window[gy+this.uniqueCallbackIdentifier]=n,this.myIFrame=bu.createIFrame_();let s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const l=document.domain;s='<script>document.domain="'+l+'";<\/script>'}const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){he("frame writing exception"),l.stack&&he(l.stack),he(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||he("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Fh]=this.myID,e[zh]=this.myPW,e[Uh]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jh+r.length<=Wh;){const o=this.pendingSegs.shift();r=r+"&"+vy+i+"="+o.seg+"&"+Ey+i+"="+o.ts+"&"+Cy+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ky)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{he("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=16384,Ny=45e3;let _s=null;typeof MozWebSocket!="undefined"?_s=MozWebSocket:typeof WebSocket!="undefined"&&(_s=WebSocket);class je{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fi(this.connId),this.stats_=$u(n),this.connURL=je.connectionURL_(n,o,l,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i){const s={};return s[Nh]=Hu,typeof location!="undefined"&&location.hostname&&Oh.test(location.hostname)&&(s[Rh]=Ph),n&&(s[xh]=n),r&&(s[Ah]=r),i&&(s[xl]=i),Lh(e,Mh,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ht.set("previous_websocket_failure",!0);try{if(!mh()){const r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new _s(this.connURL,[],r)}}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){je.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&_s!==null&&!je.forceDisallow_}static previouslyFailed(){return Ht.isInMemoryStorage||Ht.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ht.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Xr(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(C(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Th(n,Iy);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ny))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}je.responsesRequiredToBeHealthy=2;je.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[yn,je]}initTransports_(e){const n=je&&je.isAvailable();let r=n&&!je.previouslyFailed();if(e.webSocketOnly&&(n||Re("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[je];else{const i=this.transports_=[];for(const s of Gu.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=6e4,Ry=5e3,Py=10*1024,Oy=100*1024,Oo="t",Hc="d",Ay="s",$c="r",My="e",bc="o",Gc="a",Qc="n",Yc="p",Dy="h";class Ly{constructor(e,n,r,i,s,o,l,u,a,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=a,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fi("c:"+this.id+":"),this.transportManager_=new Gu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Mr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Oy?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Py?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Oo in e){const n=e[Oo];n===Gc?this.upgradeIfSecondaryHealthy_():n===$c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===bc&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=dr("t",e),r=dr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yc,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Gc,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Qc,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=dr("t",e),r=dr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=dr(Oo,e);if(Hc in e){const r=e[Hc];if(n===Dy)this.onHandshake_(r);else if(n===Qc){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ay?this.onConnectionShutdown_(r):n===$c?this.onReset_(r):n===My?Il("Server Error: "+r):n===bc?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Il("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hu!==r&&Re("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Mr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xy))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ry))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yc,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ht.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Bh{constructor(){super(["online"]);this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!ph()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gs}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=32,Kc=768;class W{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function U(){return new W("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xt(t){return t.pieces_.length-t.pieceNum_}function B(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new W(t.pieces_,e)}function Hh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Fy(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function $h(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function bh(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new W(e,0)}function Z(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof W)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new W(n,0)}function F(t){return t.pieceNum_>=t.pieces_.length}function Se(t,e){const n=L(t),r=L(e);if(n===null)return e;if(n===r)return Se(B(t),B(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Qu(t,e){if(xt(t)!==xt(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Be(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(xt(t)>xt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class zy{constructor(e,n){this.errorPrefix_=n,this.parts_=$h(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Hs(this.parts_[r]);Gh(this)}}function Uy(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hs(e),Gh(t)}function Wy(t){const e=t.parts_.pop();t.byteLength_-=Hs(e),t.parts_.length>0&&(t.byteLength_-=1)}function Gh(t){if(t.byteLength_>Kc)throw new Error(t.errorPrefix_+"has a key path longer than "+Kc+" bytes ("+t.byteLength_+").");if(t.parts_.length>qc)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qc+") or object contains a cycle "+zt(t))}function zt(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Bh{constructor(){super(["visible"]);let e,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Yu}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=1e3,jy=60*5*1e3,Vy=3*1e3,Xc=30*1e3,By=1.3,Hy=3e4,$y="server_kill",Zc=3;class rt extends Vh{constructor(e,n,r,i,s,o,l,u){super();if(this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=rt.nextPersistentConnectionId_++,this.log_=fi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hr,this.maxReconnectDelay_=jy,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!mh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gs.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(ie(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new zu,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:o=>{const l=o.d;o.s==="ok"?(this.onDataUpdate_(r.p,l,!1,null),n.resolve(l)):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const o=this.outstandingGets_[s];o===void 0||i!==o||(delete this.outstandingGets_[s],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},Vy),this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,a=l.s;rt.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(a,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ot(e,"w")){const r=Un(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Re(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||J_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xc)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Z_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ie(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Il("Unrecognized action received from server: "+ie(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Hy&&(this.reconnectDelay_=hr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*By)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+rt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},a=function(f){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:u,sendRequest:a};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?he("getToken() completed but was canceled"):(he("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,l=new Ly(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Re(g+" ("+this.repoInfo_.toString()+")"),this.interrupt($y)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Re(f),u())}}}interrupt(e){he("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){he("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lc(this.interruptReasons_)&&(this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Bu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new W(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){he("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zc&&(this.reconnectDelay_=Xc,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){he("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zc&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ch.replace(/\./g,"-")]=1,ph()?e["framework.cordova"]=1:Y_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gs.getInstance().currentlyOnline();return Lc(this.interruptReasons_)&&e}}rt.nextPersistentConnectionId_=0;rt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new M(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new M(Wn,e),i=new M(Wn,n);return this.compare(r,i)!==0}minPost(){return M.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi;class Qh extends bs{static get __EMPTY_NODE(){return Pi}static set __EMPTY_NODE(e){Pi=e}compare(e,n){return Kn(e.name,n.name)}isDefinedOn(e){throw qn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return M.MIN}maxPost(){return new M(Kt,Pi)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new M(e,Pi)}toString(){return".key"}}const An=new Qh;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class re{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:re.RED,this.left=i!=null?i:ke.EMPTY_NODE,this.right=s!=null?s:ke.EMPTY_NODE}copy(e,n,r,i,s){return new re(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ke.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ke.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,re.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}re.RED=!0;re.BLACK=!1;class by{copy(e,n,r,i,s){return this}insert(e,n,r){return new re(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ke{constructor(e,n=ke.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ke(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,re.BLACK,null,null))}remove(e){return new ke(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,re.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Oi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Oi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Oi(this.root_,null,this.comparator_,!0,e)}}ke.EMPTY_NODE=new by;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e){return Kn(t.name,e.name)}function qu(t,e){return Kn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl;function Qy(t){Rl=t}const Yh=function(t){return typeof t=="number"?"number:"+Ih(t):"string:"+t},qh=function(t){if(t.isLeafNode()){const e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ot(e,".sv"),"Priority must be a string or number.")}else C(t===Rl||t.isEmpty(),"priority of unexpected type.");C(t===Rl||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc;class ne{constructor(e,n=ne.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qh(this.priorityNode_)}static set __childrenNodeConstructor(e){Jc=e}static get __childrenNodeConstructor(){return Jc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ne(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ne.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return F(e)?this:L(e)===".priority"?this.priorityNode_:ne.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ne.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=L(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(C(r!==".priority"||xt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ne.__childrenNodeConstructor.EMPTY_NODE.updateChild(B(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Yh(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Ih(this.value_):e+=this.value_,this.lazyHash_=Sh(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ne.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ne.__childrenNodeConstructor?-1:(C(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ne.VALUE_TYPE_ORDER.indexOf(n),s=ne.VALUE_TYPE_ORDER.indexOf(r);return C(i>=0,"Unknown leaf type: "+n),C(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ne.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh,Xh;function Yy(t){Kh=t}function qy(t){Xh=t}class Ky extends bs{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Kn(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return M.MIN}maxPost(){return new M(Kt,new ne("[PRIORITY-POST]",Xh))}makePost(e,n){const r=Kh(e);return new M(n,new ne("[PRIORITY-POST]",r))}toString(){return".priority"}}const q=new Ky;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=Math.log(2);class Zy{constructor(e){const n=s=>parseInt(Math.log(s)/Xy,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ys=function(t,e,n,r){t.sort(e);const i=function(u,a){const d=a-u;let f,c;if(d===0)return null;if(d===1)return f=t[u],c=n?n(f):f,new re(c,f.node,re.BLACK,null,null);{const g=parseInt(d/2,10)+u,v=i(u,g),w=i(g+1,a);return f=t[g],c=n?n(f):f,new re(c,f.node,re.BLACK,v,w)}},s=function(u){let a=null,d=null,f=t.length;const c=function(v,w){const m=f-v,h=f;f-=v;const p=i(m+1,h),_=t[m],y=n?n(_):_;g(new re(y,_.node,w,null,p))},g=function(v){a?(a.left=v,a=v):(d=v,a=v)};for(let v=0;v<u.count;++v){const w=u.nextBitIsOne(),m=Math.pow(2,u.count-(v+1));w?c(m,re.BLACK):(c(m,re.BLACK),c(m,re.RED))}return d},o=new Zy(t.length),l=s(o);return new ke(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao;const an={};class tt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return C(an&&q,"ChildrenNode.ts has not been loaded"),Ao=Ao||new tt({".priority":an},{".priority":q}),Ao}get(e){const n=Un(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ke?n:null}hasIndex(e){return ot(this.indexSet_,e.toString())}addIndex(e,n){C(e!==An,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(M.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=ys(r,e.getCompare()):l=an;const u=e.toString(),a=Object.assign({},this.indexSet_);a[u]=e;const d=Object.assign({},this.indexes_);return d[u]=l,new tt(d,a)}addToIndexes(e,n){const r=hs(this.indexes_,(i,s)=>{const o=Un(this.indexSet_,s);if(C(o,"Missing index implementation for "+s),i===an)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(M.Wrap);let a=u.getNext();for(;a;)a.name!==e.name&&l.push(a),a=u.getNext();return l.push(e),ys(l,o.getCompare())}else return an;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new M(e.name,l))),u.insert(e,e.node)}});return new tt(r,this.indexSet_)}removeFromIndexes(e,n){const r=hs(this.indexes_,i=>{if(i===an)return i;{const s=n.get(e.name);return s?i.remove(new M(e.name,s)):i}});return new tt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr;class R{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qh(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pr||(pr=new R(new ke(qu),null,tt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pr}updatePriority(e){return this.children_.isEmpty()?this:new R(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?pr:n}}getChild(e){const n=L(e);return n===null?this:this.getImmediateChild(n).getChild(B(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(C(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new M(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?pr:this.priorityNode_;return new R(i,o,s)}}updateChild(e,n){const r=L(e);if(r===null)return n;{C(L(e)!==".priority"||xt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(B(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(q,(o,l)=>{n[o]=l.val(e),r++,s&&R.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Yh(this.getPriority().val())+":"),this.forEachChild(q,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Sh(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new M(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new M(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new M(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,M.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,M.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hi?-1:0}withIndex(e){if(e===An||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new R(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===An||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(q),i=n.getIterator(q);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===An?null:this.indexMap_.get(e.toString())}}R.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Jy extends R{constructor(){super(new ke(qu),R.EMPTY_NODE,tt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return R.EMPTY_NODE}isEmpty(){return!1}}const hi=new Jy;Object.defineProperties(M,{MIN:{value:new M(Wn,R.EMPTY_NODE)},MAX:{value:new M(Kt,hi)}});Qh.__EMPTY_NODE=R.EMPTY_NODE;ne.__childrenNodeConstructor=R;Qy(hi);qy(hi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=!0;function pe(t,e=null){if(t===null)return R.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ne(n,pe(e))}if(!(t instanceof Array)&&ev){const n=[];let r=!1;if(Ne(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=pe(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new M(o,u)))}}),n.length===0)return R.EMPTY_NODE;const s=ys(n,Gy,o=>o.name,qu);if(r){const o=ys(n,q.getCompare());return new R(s,pe(e),new tt({".priority":o},{".priority":q}))}else return new R(s,pe(e),tt.Default)}else{let n=R.EMPTY_NODE;return Ne(t,(r,i)=>{if(ot(t,r)&&r.substring(0,1)!=="."){const s=pe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(pe(e))}}Yy(pe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends bs{constructor(e){super();this.indexPath_=e,C(!F(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Kn(e.name,n.name):s}makePost(e,n){const r=pe(e),i=R.EMPTY_NODE.updateChild(this.indexPath_,r);return new M(n,i)}maxPost(){const e=R.EMPTY_NODE.updateChild(this.indexPath_,hi);return new M(Kt,e)}toString(){return $h(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends bs{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Kn(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return M.MIN}maxPost(){return M.MAX}makePost(e,n){const r=pe(e);return new M(n,r)}toString(){return".value"}}const rv=new nv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return{type:"value",snapshotNode:t}}function jn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Zr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function iv(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Zr(n,l)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(jn(n,r)):o.trackChildChange(Jr(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(q,(i,s)=>{n.hasChild(i)||r.trackChildChange(Zr(i,s))}),n.isLeafNode()||n.forEachChild(q,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Jr(i,s,o))}else r.trackChildChange(jn(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?R.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.indexedFilter_=new Ku(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ei.getStartPost_(e),this.endPost_=ei.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,s,o){return this.matches(new M(n,r))||(r=R.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=R.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(R.EMPTY_NODE);const s=this;return n.forEachChild(q,(o,l)=>{s.matches(new M(o,l))||(i=i.updateImmediateChild(o,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.rangedFilter_=new ei(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new M(n,r))||(r=R.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=R.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();let u;if(this.reverse_?u=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:u=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,u)i=i.updateImmediateChild(l.name,l.node),o++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(R.EMPTY_NODE);let s,o,l,u;if(this.reverse_){u=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const f=this.index_.getCompare();l=(c,g)=>f(g,c)}else u=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();let a=0,d=!1;for(;u.hasNext();){const f=u.getNext();!d&&l(s,f)<=0&&(d=!0),d&&a<this.limit_&&l(f,o)<=0?a++:i=i.updateImmediateChild(f.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(c,g)=>f(g,c)}else o=this.index_.getCompare();const l=e;C(l.numChildren()===this.limit_,"");const u=new M(n,r),a=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(u);if(l.hasChild(n)){const f=l.getImmediateChild(n);let c=i.getChildAfterChild(this.index_,a,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=i.getChildAfterChild(this.index_,c,this.reverse_);const g=c==null?1:o(c,u);if(d&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Jr(n,r,f)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Zr(n,f));const w=l.updateImmediateChild(n,R.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(s!=null&&s.trackChildChange(jn(c.name,c.node)),w.updateImmediateChild(c.name,c.node)):w}}else return r.isEmpty()?e:d&&o(a,u)>=0?(s!=null&&(s.trackChildChange(Zr(a.name,a.node)),s.trackChildChange(jn(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(a.name,R.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=q}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wn}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===q}copy(){const e=new Xu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ov(t){return t.loadsAllData()?new Ku(t.getIndex()):t.hasLimit()?new sv(t):new ei(t)}function ef(t){const e={};if(t.isDefault())return e;let n;return t.index_===q?n="$priority":t.index_===rv?n="$value":t.index_===An?n="$key":(C(t.index_ instanceof tv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ie(n),t.startSet_&&(e.startAt=ie(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+ie(t.indexStartName_))),t.endSet_&&(e.endAt=ie(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+ie(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==q&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Vh{constructor(e,n,r,i){super();this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=fi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=vs.getListenId_(e,r),l={};this.listens_[o]=l;const u=ef(e._queryParams);this.restRequest_(s+".json",u,(a,d)=>{let f=d;if(a===404&&(f=null,a=null),a===null&&this.onDataUpdate_(s,f,!1,r),Un(this.listens_,o)===l){let c;a?a===401?c="permission_denied":c="rest_error:"+a:c="ok",i(c,null)}})}unlisten(e,n){const r=vs.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ef(e._queryParams),r=e._path.toString(),i=new zu;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+eg(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=Xr(l.responseText)}catch{Re("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&Re("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return{value:null,children:new Map}}function Jh(t,e,n){if(F(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=L(e);t.children.has(r)||t.children.set(r,Es());const i=t.children.get(r);e=B(e),Jh(i,e,n)}}function Pl(t,e,n){t.value!==null?n(e,t.value):uv(t,(r,i)=>{const s=new W(e.toString()+"/"+r);Pl(i,s,n)})}function uv(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ne(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=10*1e3,cv=30*1e3,fv=5*60*1e3;class dv{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new av(e);const r=nf+(cv-nf)*Math.random();Mr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ne(e,(i,s)=>{s>0&&ot(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Mr(this.reportStats_.bind(this),Math.floor(Math.random()*2*fv))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(He||(He={}));function ep(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ju(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=He.ACK_USER_WRITE,this.source=ep()}operationForChild(e){if(F(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new W(e));return new Cs(U(),n,this.revert)}}else return C(L(this.path)===e,"operationForChild called for unrelated child."),new Cs(B(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){this.source=e,this.path=n,this.type=He.LISTEN_COMPLETE}operationForChild(e){return F(this.path)?new ti(this.source,U()):new ti(this.source,B(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=He.OVERWRITE}operationForChild(e){return F(this.path)?new Xt(this.source,U(),this.snap.getImmediateChild(e)):new Xt(this.source,B(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=He.MERGE}operationForChild(e){if(F(this.path)){const n=this.children.subtree(new W(e));return n.isEmpty()?null:n.value?new Xt(this.source,U(),n.value):new ni(this.source,U(),n)}else return C(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ni(this.source,B(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(F(e))return this.isFullyInitialized()&&!this.filtered_;const n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pv(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(iv(o.childName,o.snapshotNode))}),mr(t,i,"child_removed",e,r,n),mr(t,i,"child_added",e,r,n),mr(t,i,"child_moved",s,r,n),mr(t,i,"child_changed",e,r,n),mr(t,i,"value",e,r,n),i}function mr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>_v(t,l,u)),o.forEach(l=>{const u=mv(t,l,s);i.forEach(a=>{a.respondsTo(l.type)&&e.push(a.createEvent(u,t.query_))})})}function mv(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _v(t,e,n){if(e.childName==null||n.childName==null)throw qn("Should only compare child_ events.");const r=new M(e.childName,e.snapshotNode),i=new M(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){return{eventCache:t,serverCache:e}}function Dr(t,e,n,r){return Gs(new Zt(e,n,r),t.serverCache)}function tp(t,e,n,r){return Gs(t.eventCache,new Zt(e,n,r))}function Ol(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Jt(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;const gv=()=>(Mo||(Mo=new ke(Jg)),Mo);class ${constructor(e,n=gv()){this.value=e,this.children=n}static fromObject(e){let n=new $(null);return Ne(e,(r,i)=>{n=n.set(new W(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:U(),value:this.value};if(F(e))return null;{const r=L(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(B(e),n);return s!=null?{path:Z(new W(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(F(e))return this;{const n=L(e),r=this.children.get(n);return r!==null?r.subtree(B(e)):new $(null)}}set(e,n){if(F(e))return new $(n,this.children);{const r=L(e),s=(this.children.get(r)||new $(null)).set(B(e),n),o=this.children.insert(r,s);return new $(this.value,o)}}remove(e){if(F(e))return this.children.isEmpty()?new $(null):new $(null,this.children);{const n=L(e),r=this.children.get(n);if(r){const i=r.remove(B(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new $(null):new $(this.value,s)}else return this}}get(e){if(F(e))return this.value;{const n=L(e),r=this.children.get(n);return r?r.get(B(e)):null}}setTree(e,n){if(F(e))return n;{const r=L(e),s=(this.children.get(r)||new $(null)).setTree(B(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new $(this.value,o)}}fold(e){return this.fold_(U(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Z(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,U(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(F(e))return null;{const s=L(e),o=this.children.get(s);return o?o.findOnPath_(B(e),Z(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,U(),n)}foreachOnPath_(e,n,r){if(F(e))return this;{this.value&&r(n,this.value);const i=L(e),s=this.children.get(i);return s?s.foreachOnPath_(B(e),Z(n,i),r):new $(null)}}foreach(e){this.foreach_(U(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Z(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.writeTree_=e}static empty(){return new $e(new $(null))}}function Lr(t,e,n){if(F(e))return new $e(new $(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Se(i,e);return s=s.updateChild(o,n),new $e(t.writeTree_.set(i,s))}else{const i=new $(n),s=t.writeTree_.setTree(e,i);return new $e(s)}}}function rf(t,e,n){let r=t;return Ne(n,(i,s)=>{r=Lr(r,Z(e,i),s)}),r}function sf(t,e){if(F(e))return $e.empty();{const n=t.writeTree_.setTree(e,new $(null));return new $e(n)}}function Al(t,e){return sn(t,e)!=null}function sn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Se(n.path,e)):null}function of(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(q,(r,i)=>{e.push(new M(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new M(r,i.value))}),e}function Ct(t,e){if(F(e))return t;{const n=sn(t,e);return n!=null?new $e(new $(n)):new $e(t.writeTree_.subtree(e))}}function Ml(t){return t.writeTree_.isEmpty()}function Vn(t,e){return np(U(),t.writeTree_,e)}function np(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(C(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=np(Z(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Z(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e){return op(e,t)}function yv(t,e,n,r,i){C(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Lr(t.visibleWrites,e,n)),t.lastWriteId=r}function vv(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Ev(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Cv(l,r.path)?i=!1:Be(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return wv(t),!0;if(r.snap)t.visibleWrites=sf(t.visibleWrites,r.path);else{const l=r.children;Ne(l,u=>{t.visibleWrites=sf(t.visibleWrites,Z(r.path,u))})}return!0}else return!1}function Cv(t,e){if(t.snap)return Be(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Be(Z(t.path,n),e))return!0;return!1}function wv(t){t.visibleWrites=rp(t.allWrites,Sv,U()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Sv(t){return t.visible}function rp(t,e,n){let r=$e.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Be(n,o)?(l=Se(n,o),r=Lr(r,l,s.snap)):Be(o,n)&&(l=Se(o,n),r=Lr(r,U(),s.snap.getChild(l)));else if(s.children){if(Be(n,o))l=Se(n,o),r=rf(r,l,s.children);else if(Be(o,n))if(l=Se(o,n),F(l))r=rf(r,U(),s.children);else{const u=Un(s.children,L(l));if(u){const a=u.getChild(B(l));r=Lr(r,U(),a)}}}else throw qn("WriteRecord should have .snap or .children")}}return r}function ip(t,e,n,r,i){if(!r&&!i){const s=sn(t.visibleWrites,e);if(s!=null)return s;{const o=Ct(t.visibleWrites,e);if(Ml(o))return n;if(n==null&&!Al(o,U()))return null;{const l=n||R.EMPTY_NODE;return Vn(o,l)}}}else{const s=Ct(t.visibleWrites,e);if(!i&&Ml(s))return n;if(!i&&n==null&&!Al(s,U()))return null;{const o=function(a){return(a.visible||i)&&(!r||!~r.indexOf(a.writeId))&&(Be(a.path,e)||Be(e,a.path))},l=rp(t.allWrites,o,e),u=n||R.EMPTY_NODE;return Vn(l,u)}}}function kv(t,e,n){let r=R.EMPTY_NODE;const i=sn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(q,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ct(t.visibleWrites,e);return n.forEachChild(q,(o,l)=>{const u=Vn(Ct(s,new W(o)),l);r=r.updateImmediateChild(o,u)}),of(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ct(t.visibleWrites,e);return of(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Tv(t,e,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Z(e,n);if(Al(t.visibleWrites,s))return null;{const o=Ct(t.visibleWrites,s);return Ml(o)?i.getChild(n):Vn(o,i.getChild(n))}}function Iv(t,e,n,r){const i=Z(e,n),s=sn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ct(t.visibleWrites,i);return Vn(o,r.getNode().getImmediateChild(n))}else return null}function Nv(t,e){return sn(t.visibleWrites,e)}function xv(t,e,n,r,i,s,o){let l;const u=Ct(t.visibleWrites,e),a=sn(u,U());if(a!=null)l=a;else if(n!=null)l=Vn(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=o.getCompare(),c=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=c.getNext();for(;g&&d.length<i;)f(g,r)!==0&&d.push(g),g=c.getNext();return d}else return[]}function Rv(){return{visibleWrites:$e.empty(),allWrites:[],lastWriteId:-1}}function ws(t,e,n,r){return ip(t.writeTree,t.treePath,e,n,r)}function ta(t,e){return kv(t.writeTree,t.treePath,e)}function lf(t,e,n,r){return Tv(t.writeTree,t.treePath,e,n,r)}function Ss(t,e){return Nv(t.writeTree,Z(t.treePath,e))}function Pv(t,e,n,r,i,s){return xv(t.writeTree,t.treePath,e,n,r,i,s)}function na(t,e,n){return Iv(t.writeTree,t.treePath,e,n)}function sp(t,e){return op(Z(t.treePath,e),t.writeTree)}function op(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Jr(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Zr(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,jn(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Jr(r,e.snapshotNode,i.oldSnap));else throw qn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const lp=new Av;class ra{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return na(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jt(this.viewCache_),s=Pv(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){return{filter:t}}function Dv(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Lv(t,e,n,r,i){const s=new Ov;let o,l;if(n.type===He.OVERWRITE){const a=n;a.source.fromUser?o=Dl(t,e,a.path,a.snap,r,i,s):(C(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered()&&!F(a.path),o=ks(t,e,a.path,a.snap,r,i,l,s))}else if(n.type===He.MERGE){const a=n;a.source.fromUser?o=zv(t,e,a.path,a.children,r,i,s):(C(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered(),o=Ll(t,e,a.path,a.children,r,i,l,s))}else if(n.type===He.ACK_USER_WRITE){const a=n;a.revert?o=jv(t,e,a.path,r,i,s):o=Uv(t,e,a.path,a.affectedTree,r,i,s)}else if(n.type===He.LISTEN_COMPLETE)o=Wv(t,e,n.path,r,s);else throw qn("Unknown operation type: "+n.type);const u=s.getChanges();return Fv(e,o,u),{viewCache:o,changes:u}}function Fv(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ol(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Zh(Ol(e)))}}function up(t,e,n,r,i,s){const o=e.eventCache;if(Ss(r,n)!=null)return e;{let l,u;if(F(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const a=Jt(e),d=a instanceof R?a:R.EMPTY_NODE,f=ta(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const a=ws(r,Jt(e));l=t.filter.updateFullNode(e.eventCache.getNode(),a,s)}else{const a=L(n);if(a===".priority"){C(xt(n)===1,"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const f=lf(r,n,d,u);f!=null?l=t.filter.updatePriority(d,f):l=o.getNode()}else{const d=B(n);let f;if(o.isCompleteForChild(a)){u=e.serverCache.getNode();const c=lf(r,n,o.getNode(),u);c!=null?f=o.getNode().getImmediateChild(a).updateChild(d,c):f=o.getNode().getImmediateChild(a)}else f=na(r,a,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),a,f,d,i,s):l=o.getNode()}}return Dr(e,l,o.isFullyInitialized()||F(n),t.filter.filtersNodes())}}function ks(t,e,n,r,i,s,o,l){const u=e.serverCache;let a;const d=o?t.filter:t.filter.getIndexedFilter();if(F(n))a=d.updateFullNode(u.getNode(),r,null);else if(d.filtersNodes()&&!u.isFiltered()){const g=u.getNode().updateChild(n,r);a=d.updateFullNode(u.getNode(),g,null)}else{const g=L(n);if(!u.isCompleteForPath(n)&&xt(n)>1)return e;const v=B(n),m=u.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?a=d.updatePriority(u.getNode(),m):a=d.updateChild(u.getNode(),g,m,v,lp,null)}const f=tp(e,a,u.isFullyInitialized()||F(n),d.filtersNodes()),c=new ra(i,f,s);return up(t,f,n,i,c,l)}function Dl(t,e,n,r,i,s,o){const l=e.eventCache;let u,a;const d=new ra(i,e,s);if(F(n))a=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Dr(e,a,!0,t.filter.filtersNodes());else{const f=L(n);if(f===".priority")a=t.filter.updatePriority(e.eventCache.getNode(),r),u=Dr(e,a,l.isFullyInitialized(),l.isFiltered());else{const c=B(n),g=l.getNode().getImmediateChild(f);let v;if(F(c))v=r;else{const w=d.getCompleteChild(f);w!=null?Hh(c)===".priority"&&w.getChild(bh(c)).isEmpty()?v=w:v=w.updateChild(c,r):v=R.EMPTY_NODE}if(g.equals(v))u=e;else{const w=t.filter.updateChild(l.getNode(),f,v,c,d,o);u=Dr(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function uf(t,e){return t.eventCache.isCompleteForChild(e)}function zv(t,e,n,r,i,s,o){let l=e;return r.foreach((u,a)=>{const d=Z(n,u);uf(e,L(d))&&(l=Dl(t,l,d,a,i,s,o))}),r.foreach((u,a)=>{const d=Z(n,u);uf(e,L(d))||(l=Dl(t,l,d,a,i,s,o))}),l}function af(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ll(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,a;F(n)?a=r:a=new $(null).setTree(n,r);const d=e.serverCache.getNode();return a.children.inorderTraversal((f,c)=>{if(d.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),v=af(t,g,c);u=ks(t,u,new W(f),v,i,s,o,l)}}),a.children.inorderTraversal((f,c)=>{const g=!e.serverCache.isCompleteForChild(f)&&c.value===void 0;if(!d.hasChild(f)&&!g){const v=e.serverCache.getNode().getImmediateChild(f),w=af(t,v,c);u=ks(t,u,new W(f),w,i,s,o,l)}}),u}function Uv(t,e,n,r,i,s,o){if(Ss(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(F(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ks(t,e,n,u.getNode().getChild(n),i,s,l,o);if(F(n)){let a=new $(null);return u.getNode().forEachChild(An,(d,f)=>{a=a.set(new W(d),f)}),Ll(t,e,n,a,i,s,l,o)}else return e}else{let a=new $(null);return r.foreach((d,f)=>{const c=Z(n,d);u.isCompleteForPath(c)&&(a=a.set(d,u.getNode().getChild(c)))}),Ll(t,e,n,a,i,s,l,o)}}function Wv(t,e,n,r,i){const s=e.serverCache,o=tp(e,s.getNode(),s.isFullyInitialized()||F(n),s.isFiltered());return up(t,o,n,r,lp,i)}function jv(t,e,n,r,i,s){let o;if(Ss(r,n)!=null)return e;{const l=new ra(r,e,i),u=e.eventCache.getNode();let a;if(F(n)||L(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=ws(r,Jt(e));else{const f=e.serverCache.getNode();C(f instanceof R,"serverChildren would be complete if leaf node"),d=ta(r,f)}d=d,a=t.filter.updateFullNode(u,d,s)}else{const d=L(n);let f=na(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=u.getImmediateChild(d)),f!=null?a=t.filter.updateChild(u,d,f,B(n),l,s):e.eventCache.getNode().hasChild(d)?a=t.filter.updateChild(u,d,R.EMPTY_NODE,B(n),l,s):a=u,a.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ws(r,Jt(e)),o.isLeafNode()&&(a=t.filter.updateFullNode(a,o,s)))}return o=e.serverCache.isFullyInitialized()||Ss(r,U())!=null,Dr(e,a,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ku(r.getIndex()),s=ov(r);this.processor_=Mv(s);const o=n.serverCache,l=n.eventCache,u=i.updateFullNode(R.EMPTY_NODE,o.getNode(),null),a=s.updateFullNode(R.EMPTY_NODE,l.getNode(),null),d=new Zt(u,o.isFullyInitialized(),i.filtersNodes()),f=new Zt(a,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Gs(f,d),this.eventGenerator_=new hv(this.query_)}get query(){return this.query_}}function Bv(t){return t.viewCache_.serverCache.getNode()}function Hv(t,e){const n=Jt(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!F(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function cf(t){return t.eventRegistrations_.length===0}function $v(t,e){t.eventRegistrations_.push(e)}function ff(t,e,n){const r=[];if(n){C(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function df(t,e,n,r){e.type===He.MERGE&&e.source.queryId!==null&&(C(Jt(t.viewCache_),"We should always have a full cache before handling merges"),C(Ol(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Lv(t.processor_,i,e,n,r);return Dv(t.processor_,s.viewCache),C(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,ap(t,s.changes,s.viewCache.eventCache.getNode(),null)}function bv(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(q,(s,o)=>{r.push(jn(s,o))}),n.isFullyInitialized()&&r.push(Zh(n.getNode())),ap(t,r,n.getNode(),e)}function ap(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return pv(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts;class Gv{constructor(){this.views=new Map}}function Qv(t){C(!Ts,"__referenceConstructor has already been defined"),Ts=t}function Yv(){return C(Ts,"Reference.ts has not been loaded"),Ts}function qv(t){return t.views.size===0}function ia(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return C(s!=null,"SyncTree gave us an op for an invalid query."),df(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(df(o,e,n,r));return s}}function Kv(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=ws(n,i?r:null),u=!1;l?u=!0:r instanceof R?(l=ta(n,r),u=!1):(l=R.EMPTY_NODE,u=!1);const a=Gs(new Zt(l,u,!1),new Zt(r,i,!1));return new Vv(e,a)}return o}function Xv(t,e,n,r,i,s){const o=Kv(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),$v(o,n),bv(o,n)}function Zv(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Rt(t);if(i==="default")for(const[u,a]of t.views.entries())o=o.concat(ff(a,n,r)),cf(a)&&(t.views.delete(u),a.query._queryParams.loadsAllData()||s.push(a.query));else{const u=t.views.get(i);u&&(o=o.concat(ff(u,n,r)),cf(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!Rt(t)&&s.push(new(Yv())(e._repo,e._path)),{removed:s,events:o}}function cp(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Mn(t,e){let n=null;for(const r of t.views.values())n=n||Hv(r,e);return n}function fp(t,e){if(e._queryParams.loadsAllData())return Qs(t);{const r=e._queryIdentifier;return t.views.get(r)}}function dp(t,e){return fp(t,e)!=null}function Rt(t){return Qs(t)!=null}function Qs(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is;function Jv(t){C(!Is,"__referenceConstructor has already been defined"),Is=t}function e0(){return C(Is,"Reference.ts has not been loaded"),Is}let t0=1;class hf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $(null),this.pendingWriteTree_=Rv(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function n0(t,e,n,r,i){return yv(t.pendingWriteTree_,e,n,r,i),i?pi(t,new Xt(ep(),e,n)):[]}function vn(t,e,n=!1){const r=vv(t.pendingWriteTree_,e);if(Ev(t.pendingWriteTree_,e)){let s=new $(null);return r.snap!=null?s=s.set(U(),!0):Ne(r.children,o=>{s=s.set(new W(o),!0)}),pi(t,new Cs(r.path,s,n))}else return[]}function Ys(t,e,n){return pi(t,new Xt(Zu(),e,n))}function r0(t,e,n){const r=$.fromObject(n);return pi(t,new ni(Zu(),e,r))}function i0(t,e){return pi(t,new ti(Zu(),e))}function s0(t,e,n){const r=sa(t,n);if(r){const i=oa(r),s=i.path,o=i.queryId,l=Se(s,e),u=new ti(Ju(o),l);return la(t,s,u)}else return[]}function Fl(t,e,n,r){const i=e._path,s=t.syncPointTree_.get(i);let o=[];if(s&&(e._queryIdentifier==="default"||dp(s,e))){const l=Zv(s,e,n,r);qv(s)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=l.removed;o=l.events;const a=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,c)=>Rt(c));if(a&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const c=u0(f);for(let g=0;g<c.length;++g){const v=c[g],w=v.query,m=_p(t,v);t.listenProvider_.startListening(Fr(w),Ns(t,w),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(a?t.listenProvider_.stopListening(Fr(e),null):u.forEach(f=>{const c=t.queryToTagMap.get(qs(f));t.listenProvider_.stopListening(Fr(f),c)})),a0(t,u)}return o}function o0(t,e,n,r){const i=sa(t,r);if(i!=null){const s=oa(i),o=s.path,l=s.queryId,u=Se(o,e),a=new Xt(Ju(l),u,n);return la(t,o,a)}else return[]}function l0(t,e,n,r){const i=sa(t,r);if(i){const s=oa(i),o=s.path,l=s.queryId,u=Se(o,e),a=$.fromObject(n),d=new ni(Ju(l),u,a);return la(t,o,d)}else return[]}function pf(t,e,n){const r=e._path;let i=null,s=!1;t.syncPointTree_.foreachOnPath(r,(f,c)=>{const g=Se(f,r);i=i||Mn(c,g),s=s||Rt(c)});let o=t.syncPointTree_.get(r);o?(s=s||Rt(o),i=i||Mn(o,U())):(o=new Gv,t.syncPointTree_=t.syncPointTree_.set(r,o));let l;i!=null?l=!0:(l=!1,i=R.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((c,g)=>{const v=Mn(g,U());v&&(i=i.updateImmediateChild(c,v))}));const u=dp(o,e);if(!u&&!e._queryParams.loadsAllData()){const f=qs(e);C(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const c=c0();t.queryToTagMap.set(f,c),t.tagToQueryMap.set(c,f)}const a=ea(t.pendingWriteTree_,r);let d=Xv(o,e,n,a,i,l);if(!u&&!s){const f=fp(o,e);d=d.concat(f0(t,e,f))}return d}function hp(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=Se(o,e),a=Mn(l,u);if(a)return a});return ip(i,e,s,n,!0)}function pi(t,e){return pp(e,t.syncPointTree_,null,ea(t.pendingWriteTree_,U()))}function pp(t,e,n,r){if(F(t.path))return mp(t,e,n,r);{const i=e.get(U());n==null&&i!=null&&(n=Mn(i,U()));let s=[];const o=L(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const a=n?n.getImmediateChild(o):null,d=sp(r,o);s=s.concat(pp(l,u,a,d))}return i&&(s=s.concat(ia(i,t,r,n))),s}}function mp(t,e,n,r){const i=e.get(U());n==null&&i!=null&&(n=Mn(i,U()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,a=sp(r,o),d=t.operationForChild(o);d&&(s=s.concat(mp(d,l,u,a)))}),i&&(s=s.concat(ia(i,t,r,n))),s}function _p(t,e){const n=e.query,r=Ns(t,n);return{hashFn:()=>(Bv(e)||R.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?s0(t,n._path,r):i0(t,n._path);{const s=ny(i,n);return Fl(t,n,null,s)}}}}function Ns(t,e){const n=qs(e);return t.queryToTagMap.get(n)}function qs(t){return t._path.toString()+"$"+t._queryIdentifier}function sa(t,e){return t.tagToQueryMap.get(e)}function oa(t){const e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new W(t.substr(0,e))}}function la(t,e,n){const r=t.syncPointTree_.get(e);C(r,"Missing sync point for query tag that we're tracking");const i=ea(t.pendingWriteTree_,e);return ia(r,n,i,null)}function u0(t){return t.fold((e,n,r)=>{if(n&&Rt(n))return[Qs(n)];{let i=[];return n&&(i=cp(n)),Ne(r,(s,o)=>{i=i.concat(o)}),i}})}function Fr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(e0())(t._repo,t._path):t}function a0(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=qs(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function c0(){return t0++}function f0(t,e,n){const r=e._path,i=Ns(t,e),s=_p(t,n),o=t.listenProvider_.startListening(Fr(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)C(!Rt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((a,d,f)=>{if(!F(a)&&d&&Rt(d))return[Qs(d).query];{let c=[];return d&&(c=c.concat(cp(d).map(g=>g.query))),Ne(f,(g,v)=>{c=c.concat(v)}),c}});for(let a=0;a<u.length;++a){const d=u[a];t.listenProvider_.stopListening(Fr(d),Ns(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ua(n)}node(){return this.node_}}class aa{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Z(this.path_,e);return new aa(this.syncTree_,n)}node(){return hp(this.syncTree_,this.path_)}}const d0=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},mf=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return h0(t[".sv"],e,n);if(typeof t[".sv"]=="object")return p0(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},h0=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},p0=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);const i=e.node();if(C(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},m0=function(t,e,n,r){return ca(e,new aa(n,t),r)},_0=function(t,e,n){return ca(t,new ua(e),n)};function ca(t,e,n){const r=t.getPriority().val(),i=mf(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=mf(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new ne(l,pe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ne(i))),o.forEachChild(q,(l,u)=>{const a=ca(u,e.getImmediateChild(l),n);a!==u&&(s=s.updateImmediateChild(l,a))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function da(t,e){let n=e instanceof W?e:new W(e),r=t,i=L(n);for(;i!==null;){const s=Un(r.node.children,i)||{children:{},childCount:0};r=new fa(i,r,s),n=B(n),i=L(n)}return r}function Xn(t){return t.node.value}function gp(t,e){t.node.value=e,zl(t)}function yp(t){return t.node.childCount>0}function g0(t){return Xn(t)===void 0&&!yp(t)}function Ks(t,e){Ne(t.node.children,(n,r)=>{e(new fa(n,t,r))})}function vp(t,e,n,r){n&&!r&&e(t),Ks(t,i=>{vp(i,e,!0,r)}),n&&r&&e(t)}function y0(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function mi(t){return new W(t.parent===null?t.name:mi(t.parent)+"/"+t.name)}function zl(t){t.parent!==null&&v0(t.parent,t.name,t)}function v0(t,e,n){const r=g0(n),i=ot(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,zl(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,zl(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=/[\[\].#$\/\u0000-\u001F\u007F]/,C0=/[\[\].#$\u0000-\u001F\u007F]/,Do=10*1024*1024,Ep=function(t){return typeof t=="string"&&t.length!==0&&!E0.test(t)},Cp=function(t){return typeof t=="string"&&t.length!==0&&!C0.test(t)},w0=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Cp(t)},wp=function(t,e,n){const r=n instanceof W?new zy(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+zt(r));if(typeof e=="function")throw new Error(t+"contains a function "+zt(r)+" with contents = "+e.toString());if(kh(e))throw new Error(t+"contains "+e.toString()+" "+zt(r));if(typeof e=="string"&&e.length>Do/3&&Hs(e)>Do)throw new Error(t+"contains a string greater than "+Do+" utf8 bytes "+zt(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ne(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Ep(o)))throw new Error(t+" contains an invalid key ("+o+") "+zt(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Uy(r,o),wp(t,l,r),Wy(r)}),i&&s)throw new Error(t+' contains ".value" child '+zt(r)+" in addition to actual children.")}},Sp=function(t,e,n,r){if(!(r&&n===void 0)&&!Cp(n))throw new Error(yh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},S0=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sp(t,e,n,r)},k0=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ep(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!w0(n))throw new Error(yh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kp(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Qu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Tp(t,e,n){kp(t,n),Ip(t,r=>Qu(r,e))}function on(t,e,n){kp(t,n),Ip(t,r=>Be(r,e)||Be(e,r))}function Ip(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(I0(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function I0(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();bt&&he("event: "+n.toString()),di(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="repo_interrupt",x0=25;class R0{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new T0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Es(),this.transactionQueueTree_=new fa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function P0(t,e,n){if(t.stats_=$u(t.repoInfo_),t.forceRestClient_||oy())t.server_=new vs(t.repoInfo_,(r,i,s,o)=>{_f(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gf(t,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ie(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new rt(t.repoInfo_,e,(r,i,s,o)=>{_f(t,r,i,s,o)},r=>{gf(t,r)},r=>{A0(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=hy(t.repoInfo_,()=>new dv(t.stats_,t.server_)),t.infoData_=new lv,t.infoSyncTree_=new hf({startListening:(r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=Ys(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ha(t,"connected",!1),t.serverSyncTree_=new hf({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const a=o(l,u);on(t.eventQueue_,r._path,a)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function O0(t){const n=t.infoData_.getNode(new W(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Np(t){return d0({timestamp:O0(t)})}function _f(t,e,n,r,i){t.dataUpdateCount++;const s=new W(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=hs(n,a=>pe(a));o=l0(t.serverSyncTree_,s,u,i)}else{const u=pe(n);o=o0(t.serverSyncTree_,s,u,i)}else if(r){const u=hs(n,a=>pe(a));o=r0(t.serverSyncTree_,s,u)}else{const u=pe(n);o=Ys(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=ma(t,s)),on(t.eventQueue_,l,o)}function gf(t,e){ha(t,"connected",e),e===!1&&D0(t)}function A0(t,e){Ne(e,(n,r)=>{ha(t,n,r)})}function ha(t,e,n){const r=new W("/.info/"+e),i=pe(n);t.infoData_.updateSnapshot(r,i);const s=Ys(t.infoSyncTree_,r,i);on(t.eventQueue_,r,s)}function M0(t){return t.nextWriteId_++}function D0(t){xp(t,"onDisconnectEvents");const e=Np(t),n=Es();Pl(t.onDisconnect_,U(),(i,s)=>{const o=m0(i,s,t.serverSyncTree_,e);Jh(n,i,o)});let r=[];Pl(n,U(),(i,s)=>{r=r.concat(Ys(t.serverSyncTree_,i,s));const o=W0(t,i);ma(t,o)}),t.onDisconnect_=Es(),on(t.eventQueue_,U(),r)}function L0(t,e,n){let r;L(e._path)===".info"?r=pf(t.infoSyncTree_,e,n):r=pf(t.serverSyncTree_,e,n),Tp(t.eventQueue_,e._path,r)}function Ul(t,e,n){let r;L(e._path)===".info"?r=Fl(t.infoSyncTree_,e,n):r=Fl(t.serverSyncTree_,e,n),Tp(t.eventQueue_,e._path,r)}function F0(t){t.persistentConnection_&&t.persistentConnection_.interrupt(N0)}function xp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),he(n,...e)}function Rp(t,e,n){return hp(t.serverSyncTree_,e,n)||R.EMPTY_NODE}function pa(t,e=t.transactionQueueTree_){if(e||Xs(t,e),Xn(e)){const n=Op(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&z0(t,mi(e),n)}else yp(e)&&Ks(e,n=>{pa(t,n)})}function z0(t,e,n){const r=n.map(a=>a.currentWriteId),i=Rp(t,e,r);let s=i;const o=i.hash();for(let a=0;a<n.length;a++){const d=n[a];C(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Se(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,a=>{xp(t,"transaction put response",{path:u.toString(),status:a});let d=[];if(a==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,d=d.concat(vn(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();Xs(t,da(t.transactionQueueTree_,e)),pa(t,t.transactionQueueTree_),on(t.eventQueue_,e,d);for(let c=0;c<f.length;c++)di(f[c])}else{if(a==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Re("transaction at "+u.toString()+" failed: "+a);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=a}ma(t,e)}},o)}function ma(t,e){const n=Pp(t,e),r=mi(n),i=Op(t,n);return U0(t,i,r),r}function U0(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],a=Se(n,u.path);let d=!1,f;if(C(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,f=u.abortReason,i=i.concat(vn(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=x0)d=!0,f="maxretry",i=i.concat(vn(t.serverSyncTree_,u.currentWriteId,!0));else{const c=Rp(t,u.path,o);u.currentInputSnapshot=c;const g=e[l].update(c.val());if(g!==void 0){wp("transaction failed: Data returned ",g,u.path);let v=pe(g);typeof g=="object"&&g!=null&&ot(g,".priority")||(v=v.updatePriority(c.getPriority()));const m=u.currentWriteId,h=Np(t),p=_0(v,c,h);u.currentOutputSnapshotRaw=v,u.currentOutputSnapshotResolved=p,u.currentWriteId=M0(t),o.splice(o.indexOf(m),1),i=i.concat(n0(t.serverSyncTree_,u.path,p,u.currentWriteId,u.applyLocally)),i=i.concat(vn(t.serverSyncTree_,m,!0))}else d=!0,f="nodata",i=i.concat(vn(t.serverSyncTree_,u.currentWriteId,!0))}on(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(c){setTimeout(c,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}Xs(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)di(r[l]);pa(t,t.transactionQueueTree_)}function Pp(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&Xn(r)===void 0;)r=da(r,n),e=B(e),n=L(e);return r}function Op(t,e){const n=[];return Ap(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Ap(t,e,n){const r=Xn(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ks(e,i=>{Ap(t,i,n)})}function Xs(t,e){const n=Xn(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,gp(e,n.length>0?n:void 0)}Ks(e,r=>{Xs(t,r)})}function W0(t,e){const n=mi(Pp(t,e)),r=da(t.transactionQueueTree_,e);return y0(r,i=>{Lo(t,i)}),Lo(t,r),vp(r,i=>{Lo(t,i)}),n}function Lo(t,e){const n=Xn(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(C(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(C(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(vn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?gp(e,void 0):n.length=s+1,on(t.eventQueue_,mi(e),i);for(let o=0;o<r.length;o++)di(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function V0(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Re(`Invalid query segment '${n}' in query '${t}'`)}return e}const yf=function(t,e){const n=B0(t),r=n.namespace;n.domain==="firebase.com"&&qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Xg();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cy(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new W(n.pathString)}},B0=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let a=t.indexOf("//");a>=0&&(l=t.substring(0,a-1),t=t.substring(a+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=j0(t.substring(d,f)));const c=V0(t.substring(Math.min(t.length,f)));a=e.indexOf(":"),a>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(a+1),10)):a=e.length;const g=e.slice(0,a);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in c&&(s=c.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ie(this.snapshot.exportVal())}}class Dp{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return F(this._path)?null:Hh(this._path)}get ref(){return new lt(this._repo,this._path)}get _queryIdentifier(){const e=tf(this._queryParams),n=Bu(e);return n==="{}"?"default":n}get _queryObject(){return tf(this._queryParams)}isEqual(e){if(e=Wu(e),!(e instanceof _a))return!1;const n=this._repo===e._repo,r=Qu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Fy(this._path)}}class lt extends _a{constructor(e,n){super(e,n,new Xu,!1)}get parent(){const e=bh(this._path);return e===null?null:new lt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ri{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new W(e),r=xs(this.ref,e);return new ri(this._node.getChild(n),r,q)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ri(i,xs(this.ref,r),q)))}hasChild(e){const n=new W(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hE(t,e){return t=Wu(t),t._checkNotDeleted("ref"),e!==void 0?xs(t._root,e):t._root}function xs(t,e){return t=Wu(t),L(t._path)===null?S0("child","path",e,!1):Sp("child","path",e,!1),new lt(t._repo,Z(t._path,e))}class Zs{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Mp("value",this,new ri(e.snapshotNode,new lt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Dp(this,e,n):null}matches(e){return e instanceof Zs?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Js{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Dp(this,e,n):null}createEvent(e,n){C(e.childName!=null,"Child events should have a childName.");const r=xs(new lt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Mp(e.type,this,new ri(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Js?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function _i(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,a=(d,f)=>{Ul(t._repo,t,l),u(d,f)};a.userCallback=n.userCallback,a.context=n.context,n=a}const o=new Lp(n,s||void 0),l=e==="value"?new Zs(o):new Js(e,o);return L0(t._repo,t,l),()=>Ul(t._repo,t,l)}function H0(t,e,n,r){return _i(t,"value",e,n,r)}function vf(t,e,n,r){return _i(t,"child_added",e,n,r)}function $0(t,e,n,r){return _i(t,"child_changed",e,n,r)}function b0(t,e,n,r){return _i(t,"child_moved",e,n,r)}function G0(t,e,n,r){return _i(t,"child_removed",e,n,r)}function Ai(t,e,n){let r=null;const i=n?new Lp(n):null;e==="value"?r=new Zs(i):e&&(r=new Js(e,i)),Ul(t._repo,t,r)}Qv(lt);Jv(lt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="FIREBASE_DATABASE_EMULATOR_HOST",Wl={};let Y0=!1;function q0(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),he("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=yf(s,i),l=o.repoInfo,u,a;typeof process!="undefined"&&(a=process.env[Q0]),a?(u=!0,s=`http://${a}?ns=${l.namespace}`,o=yf(s,i),l=o.repoInfo):u=!o.repoInfo.secure;const d=i&&u?new Nl(Nl.OWNER):new uy(t.name,t.options,e);k0("Invalid Firebase Database URL",o),F(o.path)||qt("Database URL must point to the root of a Firebase Database (not including a child path).");const f=X0(l,t,d,new ly(t.name,n));return new Z0(f,t)}function K0(t,e){const n=Wl[e];(!n||n[t.key]!==t)&&qt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),F0(t),delete n[t.key]}function X0(t,e,n,r){let i=Wl[e.name];i||(i={},Wl[e.name]=i);let s=i[t.toURLString()];return s&&qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new R0(t,Y0,n,r),i[t.toURLString()]=s,s}class Z0{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(P0(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lt(this._repo,U())),this._rootInternal}_delete(){return this._rootInternal!==null&&(K0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qt("Cannot call "+e+" on a deleted database.")}}function pE(t=$g(),e){return jg(t,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){Gg(Hg),Vu(new $s("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return q0(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Pn(Uc,Wc,t),Pn(Uc,Wc,"esm2017")}rt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};J0();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var te=function(){return te=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},te.apply(this,arguments)};function ye(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Fp={loading:!0,value:{keys:[],values:[]}},eE=function(t,e){switch(e.type){case"add":return e.snapshot?te(te({},t),{error:void 0,value:zp(t.value,e.snapshot,e.previousKey)}):t;case"change":return e.snapshot?te(te({},t),{error:void 0,value:nE(t.value,e.snapshot)}):t;case"error":return te(te({},t),{error:e.error,loading:!1,value:{keys:void 0,values:void 0}});case"move":return e.snapshot?te(te({},t),{error:void 0,value:rE(t.value,e.snapshot,e.previousKey)}):t;case"remove":return e.snapshot?te(te({},t),{error:void 0,value:Up(t.value,e.snapshot)}):t;case"reset":return Fp;case"value":return te(te({},t),{error:void 0,loading:!1,value:tE(e.snapshots)});case"empty":return te(te({},t),{loading:!1,value:{keys:void 0,values:void 0}});default:return t}},tE=function(t){if(!t)return{keys:[],values:[]};var e=[],n=[];return t.forEach(function(r){!r.key||(e.push(r.key),n.push(r))}),{keys:e,values:n}},zp=function(t,e,n){if(!e.key)return t;var r=t.keys,i=t.values;if(!n)return{keys:r?ye([e.key],r,!0):[e.key],values:i?ye([e],i,!0):[e]};var s=r?r.indexOf(n):0;return{keys:r?ye(ye(ye([],r.slice(0,s+1),!0),[e.key],!1),r.slice(s+1),!0):[e.key],values:i?ye(ye(ye([],i.slice(0,s+1),!0),[e],!1),i.slice(s+1),!0):[e]}},nE=function(t,e){if(!e.key)return t;var n=t.keys,r=t.values,i=n?n.indexOf(e.key):0;return te(te({},t),{values:r?ye(ye(ye([],r.slice(0,i),!0),[e],!1),r.slice(i+1),!0):[e]})},Up=function(t,e){if(!e.key)return t;var n=t.keys,r=t.values,i=n?n.indexOf(e.key):0;return{keys:n?ye(ye([],n.slice(0,i),!0),n.slice(i+1),!0):[],values:r?ye(ye([],r.slice(0,i),!0),r.slice(i+1),!0):[]}},rE=function(t,e,n){var r=Up(t,e);return zp(r,e,n)},iE=function(){return wt.exports.useReducer(eE,Fp)},sE=function(t,e,n){var r=wt.exports.useRef(t);return wt.exports.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},oE=function(t,e){var n=!t&&!e,r=!!t&&!!e&&t.isEqual(e);return n||r},lE=function(t,e){return sE(t,oE,e)},mE=function(t){var e=iE(),n=e[0],r=e[1],i=lE(t,function(){return r({type:"reset"})}),s=i.current;wt.exports.useEffect(function(){if(!s){r({type:"empty"});return}var l=function(p,_){r({type:"add",previousKey:_,snapshot:p})},u=function(p){r({type:"change",snapshot:p})},a=function(p,_){r({type:"move",previousKey:_,snapshot:p})},d=function(p){r({type:"remove",snapshot:p})},f=function(p){r({type:"error",error:p})},c=function(p){r({type:"value",snapshots:p})},g,v=function(p){var _=p.val(),y=_?Object.keys(p.val()).length:0;if(y===0)g=vf(s,l,f),c([]);else{var x=[],S=function(N,O){if(y>0){y--,x.push(N),y===0&&c(x);return}l(N,O)};g=vf(s,S,f)}};H0(s,v,f,{onlyOnce:!0});var w=$0(s,u,f),m=b0(s,a,f),h=G0(s,d,f);return function(){Ai(s,"child_added",g),Ai(s,"child_changed",w),Ai(s,"child_moved",m),Ai(s,"child_removed",h)}},[r,s]);var o=[n.value.values,n.loading,n.error];return wt.exports.useMemo(function(){return o},o)},uE="firebase",aE="9.6.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(uE,aE,"app");export{cE as R,fE as a,pE as g,dE as i,hE as r,mE as u};
